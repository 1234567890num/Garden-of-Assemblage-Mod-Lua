--RAM Version
--Last Update: Patch 1.0.0.8 Fixes
--Todo: GoA portal color

LUAGUI_NAME = "GoA RAM Practice Build"
LUAGUI_AUTH = "SonicShadowSilver2 (Ported by Num)"
LUAGUI_DESC = "A GoA build to let you practice various events."

function _OnInit()
local VersionNum = 'GoA Version 1.52.12'
if (GAME_ID == 0xF266B00B or GAME_ID == 0xFAF99301) and ENGINE_TYPE == "ENGINE" then --PCSX2
	if ENGINE_VERSION < 3.0 then
		print('LuaEngine is Outdated. Things might not work properly.')
	end
	print(VersionNum)
	Platform = 0
	Now = 0x032BAE0 --Current Location
	Sve = 0x1D5A970 --Saved Location
	BGM = 0x0347D34 --Background Music
	Save = 0x032BB30 --Save File
	Obj0 = 0x1C94100 --00objentry.bin
	Sys3 = 0x1CCB300 --03system.bin
	Btl0 = 0x1CE5D80 --00battle.bin
	Pause = 0x0347E08 --Ability to Pause
	React = 0x1C5FF4E --Reaction Command
	Cntrl = 0x1D48DB8 --Sora Controllable
	Timer = 0x0349DE8
	Combo = 0x1D49080
	Songs = 0x035DAC4 --Atlantica Stuff
	GScre = 0x1F8039C --Gummi Score
	GMdal = 0x1F803C0 --Gummi Medal
	GKill = 0x1F80856 --Gummi Kills
	CamTyp = 0x0348750 --Camera Type
	CutNow = 0x035DE20 --Cutscene Timer
	CutLen = 0x035DE28 --Cutscene Length
	CutSkp = 0x035DE08 --Cutscene Skip
	BtlTyp = 0x1C61958 --Battle Status (Out-of-Battle, Regular, Forced)
	BtlEnd = 0x1D490C0 --Something about end-of-battle camera
	TxtBox = 0x1D48D54 --Last Displayed Textbox
	DemCln = 0x1D48DEC --Demyx Clone Status
	MSNLoad  = 0x04FA440
	Slot1    = 0x1C6C750 --Unit Slot 1
	NextSlot = 0x268
	Point1   = 0x1D48EFC
	NxtPoint = 0x38
	Gauge1   = 0x1D48FA4
	NxtGauge = 0x34
	Menu1    = 0x1C5FF18 --Menu 1 (main command menu)
	NextMenu = 0x4
	print('Cycle through growth abilities by pressing Square with cursor in their respective form')
	print('Add all boosts by pressing Hyena combination (L2+R2+Triangle) with cursor in Attack on 1st page')
	print("The computer does nothing. You'll figure out how to get to CoR.")
elseif GAME_ID == 0x431219CC and ENGINE_TYPE == 'BACKEND' then --PC
	if ENGINE_VERSION < 4.1 then
		ConsolePrint('LuaBackend is Outdated. Things might not work properly.',2)
	end
	ConsolePrint(VersionNum,0)
	Platform = 1
	Now = 0x0714DB8 - 0x56454E
	Sve = 0x2A09C00 - 0x56450E
	BGM = 0x0AB8504 - 0x56450E
	Save = 0x09A7070 - 0x56450E
	Obj0 = 0x2A22B90 - 0x56450E
	Sys3 = 0x2A59DB0 - 0x56450E
	Btl0 = 0x2A74840 - 0x56450E
	Pause = 0x0AB9038 - 0x56450E
	React = 0x2A0E822 - 0x56450E
	Cntrl = 0x2A148A8 - 0x56450E
	Timer = 0x0AB9010 - 0x56450E
	Songs = 0x0B63534 - 0x56450E
	GScre = 0x0728E90 - 0x56454E
	GMdal = 0x0729024 - 0x56454E
	GKill = 0x0AF4906 - 0x56450E
	CamTyp = 0x0716A58 - 0x56454E
	CutNow = 0x0B62758 - 0x56450E
	CutLen = 0x0B62774 - 0x56450E
	CutSkp = 0x0B6275C - 0x56450E
	BtlTyp = 0x2A0EAC4 - 0x56450E
	BtlEnd = 0x2A0D3A0 - 0x56450E
	TxtBox = 0x074BC70 - 0x56454E
	DemCln = 0x2A0CF74 - 0x56450E
	MSNLoad  = 0x0BF08C0 - 0x56450E
	Slot1    = 0x2A20C58 - 0x56450E
	NextSlot = 0x278
	Point1   = 0x2A0D108 - 0x56450E
	NxtPoint = 0x50
	Gauge1   = 0x2A0D1F8 - 0x56450E
	NxtGauge = 0x48
	Menu1    = 0x2A0E7D0 - 0x56450E
	NextMenu = 0x8
	ConsolePrint('Cycle through growth abilities by pressing Square with cursor in their respective form')
	ConsolePrint('Add all boosts by pressing Hyena combination (L2+R2+Triangle) with cursor in Attack on 1st page')
	ConsolePrint("The computer does nothing. You'll figure out how to get to CoR.")
end
Slot2  = Slot1 - NextSlot
Slot3  = Slot2 - NextSlot
Slot4  = Slot3 - NextSlot
Slot5  = Slot4 - NextSlot
Slot6  = Slot5 - NextSlot
Slot7  = Slot6 - NextSlot
Slot8  = Slot7 - NextSlot
Slot9  = Slot8 - NextSlot
Slot10 = Slot9 - NextSlot
Slot11 = Slot10 - NextSlot
Slot12 = Slot11 - NextSlot
Point2 = Point1 + NxtPoint
Point3 = Point2 + NxtPoint
Gauge2 = Gauge1 + NxtGauge
Gauge3 = Gauge2 + NxtGauge
Menu2  = Menu1 + NextMenu
Menu3  = Menu2 + NextMenu
pi     = math.pi
end

function Warp(W,R,D,M,B,E) --Warp into the appropriate World, Room, Door, Map, Btl, Evt
WriteByte(Now+0x00,W)
WriteByte(Now+0x01,R)
WriteShort(Now+0x02,D)
WriteShort(Now+0x04,M)
WriteShort(Now+0x06,B)
WriteShort(Now+0x08,E)
--Record Location in Save File
WriteByte(Save+0x000C,W)
WriteByte(Save+0x000D,R)
WriteShort(Save+0x000E,D)
end

function Events(M,B,E) --Check for Map, Btl, and Evt
return ((Map == M or not M) and (Btl == B or not B) and (Evt == E or not E))
end

function Spawn(Type,Subfile,Offset,Value)
local Subpoint = ARD + 0x08 + 0x10*Subfile
local Address
if Platform == 0 and ReadInt(ARD) == 0x01524142 and Subfile <= ReadInt(ARD+4) then
	--Exclusions on Crash Spots in PCSX2-EX
	Address = ReadInt(Subpoint) + Offset
	if Type == 'Short' then
		WriteShort(Address,Value)
	elseif Type == 'Float' then
		WriteFloat(Address,Value)
	elseif Type == 'Int' then
		WriteInt(Address,Value)
	elseif Type == 'String' then
		WriteString(Address,Value)
	end
elseif Platform == 1 then
	local x = ARD&0xFFFFFF000000
	if ENGINE_VERSION < 5.0 then --LuaBackend
		if ReadIntA(ARD) == 0x01524142 and Subfile <= ReadIntA(ARD+4) then
			local y = ReadIntA(Subpoint)&0xFFFFFF
			Address = x + y + Offset
			if Type == 'Short' then
				WriteShortA(Address,Value)
			elseif Type == 'Float' then
				WriteFloatA(Address,Value)
			elseif Type == 'Int' then
				WriteIntA(Address,Value)
			elseif Type == 'String' then
				WriteStringA(Address,Value)
			end
		end
	else --LuaFrontend
		if ReadInt(ARD,true) == 0x01524142 and Subfile <= ReadInt(ARD+4,true) then
			local y = ReadInt(Subpoint,true)&0xFFFFFF
			Address = x + y + Offset
			if Type == 'Short' then
				WriteShort(Address,Value,true)
			elseif Type == 'Float' then
				WriteFloat(Address,Value,true)
			elseif Type == 'Int' then
				WriteInt(Address,Value,true)
			elseif Type == 'String' then
				WriteString(Address,Value,true)
			end
		end
	end
end
end

function BitOr(Address,Bit,Abs)
if Abs and Platform == 1 then
	if ENGINE_VERSION < 5.0 then
		WriteByteA(Address,ReadByte(Address)|Bit)
	else
		WriteByte(Address,ReadByte(Address)|Bit,true)
	end
else
	WriteByte(Address,ReadByte(Address)|Bit)
end
end

function BitNot(Address,Bit,Abs)
if Abs and Platform == 1 then
	if ENGINE_VERSION < 5.0 then
		WriteByteA(Address,ReadByte(Address)&~Bit)
	else
		WriteByte(Address,ReadByte(Address)&~Bit,true)
	end
else
	WriteByte(Address,ReadByte(Address)&~Bit)
end
end

function DriveRefill(Guaranteed)
if (Place ~= PrevPlace or ReadByte(Cntrl) == 3) and (ReadShort(Save+0x3524) ~= 0 or Guaranteed) then
	WriteShort(Save+0x3524,0)  --Revert/Dismiss
	WriteByte(Save+0x3528,100) --Restore Drive
	WriteByte(Save+0x3529,ReadByte(Save+0x352A))
end
end

function Increment(Address,Value,Min,Max)
local InitValue = ReadByte(Address)
if Buttons() == 'L2' and InitValue > Min then
	WriteByte(Address,InitValue-Value)
	WriteByte(Save+0x3599,1)
elseif Buttons() == 'R2' and InitValue < Max then
	WriteByte(Address,InitValue+Value)
	WriteByte(Save+0x3599,1)
end
end

function Menu(Pointer)
local CurMenu
if Platform == 0 then
	CurMenu = ReadByte(ReadInt(Pointer))
elseif Platform == 1 then
	CurMenu = ReadByteA(ReadLong(Pointer))
end
return CurMenu
end

function Buttons()
local Input
if Platform == 0 then
	Input = ReadShort(0x034D45C)
	if Input == 0xFEFF then
		return 'L2'
	elseif Input == 0xFDFF then
		return 'R2'
	elseif Input == 0x7FFF then
		return 'Square'
	elseif Input == 0xECFF then
		return 'Hyena'
	end
elseif Platform == 1 then
	Input = ReadLong(0x29F89B0-0x56450E)
	if Input == 0x400000000 then
		return 'L2'
	elseif Input == 0x900000000 then
		return 'R2'
	elseif Input == 0x4000200 then
		return 'Square'
	elseif Input == 0xD02000400 then
		return 'Hyena'
	end
end
return false
end

function _OnFrame()
if true then --Define current values for common addresses
	World  = ReadByte(Now+0x00)
	Room   = ReadByte(Now+0x01)
	Place  = ReadShort(Now+0x00)
	Door   = ReadShort(Now+0x02)
	Map    = ReadShort(Now+0x04)
	Btl    = ReadShort(Now+0x06)
	Evt    = ReadShort(Now+0x08)
	PrevPlace = ReadShort(Now+0x30)
	MSN    = MSNLoad + (ReadInt(MSNLoad+4)+1) * 0x10
	if Platform == 0 then
		ARD = ReadInt(0x034ECF4) --Base ARD Address
	elseif Platform == 1 then
		ARD = ReadLong(0x2A0CEE8 - 0x56450E) --Base ARD Address
		if GetHertz() < 240 then
			SetHertz(240)
			ConsolePrint('Frequency set to 240Hz to accommodate GoA mod.\n',0)
		end
	end
end
NewGame()
GoA()
Return()
end

function NewGame()
--Before New Game
if ReadShort(Btl0+0x2EB4C) == 1000 then --MCP Vanilla HP
	WriteShort(Btl0+0x312E6,0x01A1) --Auto Limit (Auron)
	WriteShort(Btl0+0x314EA,0x01A1) --Auto Limit (Beast)
	WriteShort(Btl0+0x315EA,0x01A1) --Auto Limit (Simba)
	WriteShort(Btl0+0x2EB4C,500) --Fast MCP (50% Base HP)
	WriteShort(Btl0+0x2EB8C,300) --Double Max Damage %
	WriteShort(Btl0+0x2EB8E,100) --Double Min Damage %
	-- FAKE
	WriteShort(Sys3+0x140F6,0x19E)  --Ability: Defender
	WriteShort(Sys3+0x140F8,0x0103) --Magic:1 Strength:3
	-- Detection Saber
	WriteShort(Sys3+0x13F06,0x08A)  --Ability: Scan
	WriteShort(Sys3+0x13F08,0x0204) --Magic:2 Strength:4
	-- Edge of Ultima
	WriteShort(Sys3+0x13F16,0x1A5)  --Ability: MP Hastera
	WriteShort(Sys3+0x13F18,0x0405) --Magic:4 Strength:5
end
if ReadShort(Btl0+0x31A6C) == 0 then --Vanilla Lion Sora Abilities
	WriteShort(Btl0+0x31A6C,0x820E) --Dash
	WriteShort(Btl0+0x31A6E,0x820D) --Running Tackle
	WriteString(Obj0+0x13450,'SHOP_POINT\0') --Wallace -> Moogle
	WriteString(Obj0+0x13470,'N_EX960_RTN.mset\0')
	WriteShort(Sys3+0x16F40,0x001) --Stock Potion
	WriteShort(Sys3+0x16F42,0x003) --Stock Ether
	--Party EXP Requirement
	for Member = 0,12 do
		local EXPAddress = Btl0 + 0x25928 + Member*0x634
		for Level = 0,98 do
			WriteInt(EXPAddress + 0x10*Level,99999)
		end
	end
	--Form EXP Requirement
	for Form = 0,5 do
		local EXPAddress = Btl0 + 0x34470 + Form*0x38
		for Level = 0,5 do
			WriteInt(EXPAddress + 0x8*Level,99999)
		end
	end
end
--Start New Game 1
if Place == 0x0102 and Events(0x34,0x34,0x34) then --Opening Cutscene
	WriteShort(Save+0x03D0,0x01) --Station of Serenity MAP (Dream Weapons)
	WriteShort(Save+0x03D4,0x01) --Station of Serenity EVT
	if Platform == 0 then
		Warp(0x02,0x20,0x32,0x01,0x00,0x01) --Not warping here on PS2 causes freeze after skipping GoA Activation scene
	elseif Platform == 1 then
		Spawn('Short',0x03,0x300,0x01) --Day 1 Start -> Station of Serenity Weapons
		Spawn('Short',0x03,0x304,0x20)
		Spawn('Short',0x03,0x306,0x32)
		Spawn('Short',0x03,0x308,0x00)
		WriteByte(CutSkp,1) --Warping earlier on PC causes SoS Wallpaper
	end
end
--Start New Game 2
if Place == 0x2002 then
	Spawn('Short',0x0A,0x0E0,0x01) --Station of Serenity Nobodies -> Garden of Assemblage
	Spawn('Short',0x0A,0x0E2,0x04)
	Spawn('Short',0x0A,0x0E4,0x1A)
	Spawn('Short',0x0A,0x0E6,0x32)
	Spawn('Short',0x0A,0x0E8,0x00)
	Spawn('Short',0x0E,0x034,0x745) --Dusk -> Mickey
	Spawn('Short',0x0E,0x074,0x433) --Dusk -> Donald
	Spawn('Short',0x0E,0x0B4,0x434) --Dusk -> Goofy
	if Events(0x01,Null,0x01) then --Station of Serenity Weapons
		BitNot(Save+0x1CD2,0x80) --TT_SCENARIO_1_START (Show Gameplay Elements)
		BitOr(Save+0x1CEA,0x02)  --TT_SORA_OLD_END (Play as KH2 Sora)
		BitOr(Save+0x1CEB,0x08)  --TT_ROXAS_START (Prepare Roxas' Flag)
		BitOr(Save+0x1CEA,0x01)  --TT_ROXAS_END (Play as Sora)
		WriteByte(Pause,2) --Disable Pause
		if ReadInt(CutLen) == 0x246 then --Dusks attack
			WriteByte(CutSkp,1)
		end
		--Starting Stats
		if true then --Sora
			WriteByte(Save+0x24F8,100) --AP Boost
			WriteByte(Save+0x2500,4)   --Armor Slot
			WriteByte(Save+0x2501,4)   --Accessory Slot
			WriteByte(Save+0x2502,8)   --Item Slot
			WriteShort(Save+0x2544,0x052) --Guard
			WriteShort(Save+0x2546,0x089) --Upper Slash
			WriteShort(Save+0x2548,0x10F) --Horizontal Slash
			WriteShort(Save+0x254A,0x10B) --Finishing Leap
			WriteShort(Save+0x254C,0x111) --Retaliating Slash
			WriteShort(Save+0x254E,0x106) --Slapshot
			WriteShort(Save+0x2550,0x107) --Dodge Slash
			WriteShort(Save+0x2552,0x22F) --Flash Step
			WriteShort(Save+0x2554,0x108) --Slide Dash
			WriteShort(Save+0x2556,0x232) --Vicinity Break
			WriteShort(Save+0x2558,0x109) --Guard Break
			WriteShort(Save+0x255A,0x10A) --Explosion
			WriteShort(Save+0x255C,0x10D) --Aerial Sweep
			WriteShort(Save+0x255E,0x230) --Aerial Dive
			WriteShort(Save+0x2560,0x10E) --Aerial Spiral
			WriteShort(Save+0x2562,0x110) --Aerial Finish
			WriteShort(Save+0x2564,0x231) --Magnet Burst
			WriteShort(Save+0x2566,0x10C) --Counterguard
			WriteShort(Save+0x2568,0x181) --Auto Valor
			WriteShort(Save+0x256A,0x182) --Auto Wisdom
			WriteShort(Save+0x256C,0x238) --Auto Limit
			WriteShort(Save+0x256E,0x183) --Auto Master
			WriteShort(Save+0x2570,0x184) --Auto Final
			WriteShort(Save+0x2572,0x185) --Auto Summon
			WriteShort(Save+0x2574,0x0C6) --Trinity Limit
			WriteShort(Save+0x2576,0x05E) --High Jump LV1
			WriteShort(Save+0x2578,0x062) --Quick Run LV1
			WriteShort(Save+0x257A,0x234) --Dodge Roll LV1
			WriteShort(Save+0x257C,0x066) --Aerial Dodge LV1
			WriteShort(Save+0x257E,0x06A) --Glide LV1
			WriteShort(Save+0x2580,0x08A) --Scan
			WriteShort(Save+0x2582,0x09E) --Aerial Recovery
			WriteShort(Save+0x2584,0x21B) --Combo Master
			WriteShort(Save+0x2586,0x0A2) --Combo Plus
			WriteShort(Save+0x2588,0x0A2) --Combo Plus
			WriteShort(Save+0x258A,0x0A3) --Air Combo Plus
			WriteShort(Save+0x258C,0x0A3) --Air Combo Plus
			WriteShort(Save+0x258E,0x186) --Combo Boost
			WriteShort(Save+0x2590,0x187) --Air Combo Boost
			WriteShort(Save+0x2592,0x188) --Reaction Boost
			WriteShort(Save+0x2594,0x188) --Reaction Boost
			WriteShort(Save+0x2596,0x189) --Finishing Plus
			WriteShort(Save+0x2598,0x189) --Finishing Plus
			WriteShort(Save+0x259A,0x18A) --Negative Combo
			WriteShort(Save+0x259C,0x18B) --Berserk Charge
			WriteShort(Save+0x259E,0x18C) --Damage Drive
			WriteShort(Save+0x25A0,0x18D) --Drive Boost
			WriteShort(Save+0x25A2,0x18E) --Form Boost
			WriteShort(Save+0x25A4,0x18E) --Form Boost
			WriteShort(Save+0x25A6,0x18F) --Summon Boost
			WriteShort(Save+0x25A8,0x190) --Combination Boost
			WriteShort(Save+0x25AA,0x191) --Experience Boost
			WriteShort(Save+0x25AC,0x192) --Leaf Bracer
			WriteShort(Save+0x25AE,0x193) --Magic Lock-On
			WriteShort(Save+0x25B0,0x195) --Draw
			WriteShort(Save+0x25B2,0x195) --Draw
			WriteShort(Save+0x25B4,0x195) --Draw
			WriteShort(Save+0x25B6,0x196) --Jackpot
			WriteShort(Save+0x25B8,0x197) --Lucky Lucky
			WriteShort(Save+0x25BA,0x197) --Lucky Lucky
			WriteShort(Save+0x25BC,0x197) --Lucky Lucky
			WriteShort(Save+0x25BE,0x21C) --Drive Converter
			WriteShort(Save+0x25C0,0x198) --Fire Boost
			WriteShort(Save+0x25C2,0x199) --Blizzard Boost
			WriteShort(Save+0x25C4,0x19A) --Thunder Boost
			WriteShort(Save+0x25C6,0x19B) --Item Boost
			WriteShort(Save+0x25C8,0x19C) --MP Rage
			WriteShort(Save+0x25CA,0x19D) --MP Haste
			WriteShort(Save+0x25CC,0x1A5) --MP Hastera
			WriteShort(Save+0x25CE,0x19E) --Defender
			WriteShort(Save+0x25D0,0x21E) --Damage Control
			WriteShort(Save+0x25D2,0x19F) --Second Chance
			WriteShort(Save+0x25D4,0x1A0) --Once More
			WriteShort(Save+0x25D6,0x194) --No Experience
		end
		if true then --Donald
			WriteByte(Save+0x260C,100) --AP Boost
			WriteByte(Save+0x2614,2)   --Armor Slot
			WriteByte(Save+0x2615,3)   --Accessory Slot
			WriteByte(Save+0x2616,4)   --Item Slot
			WriteShort(Save+0x2658,0x0A5) --Donald Fire 
			WriteShort(Save+0x265A,0x0A6) --Donald Blizzard
			WriteShort(Save+0x265C,0x80A7)--Donald Thunder
			WriteShort(Save+0x265E,0x80A8)--Donald Cure
			WriteShort(Save+0x2660,0x0C7) --Fantasia
			WriteShort(Save+0x2662,0x0C8) --Flare Force
			WriteShort(Save+0x2664,0x195) --Draw
			WriteShort(Save+0x2666,0x196) --Jackpot
			WriteShort(Save+0x2668,0x197) --Lucky Lucky
			WriteShort(Save+0x266A,0x198) --Fire Boost
			WriteShort(Save+0x266C,0x199) --Blizzard Boost
			WriteShort(Save+0x266E,0x19A) --Thunder Boost
			WriteShort(Save+0x2670,0x19C) --MP Rage
			WriteShort(Save+0x2672,0x1A5) --MP Hastera
			WriteShort(Save+0x2674,0x1A1) --Auto Limit
			WriteShort(Save+0x2676,0x1A3) --Hyper Healing
			WriteShort(Save+0x2678,0x1A4) --Auto Healing
		end
		if true then --Goofy
			WriteByte(Save+0x2720,100) --AP Boost
			WriteByte(Save+0x2728,3)   --Armor Slot
			WriteByte(Save+0x2729,2)   --Accessory Slot
			WriteByte(Save+0x272A,6)   --Item Slot
			WriteShort(Save+0x276C,0x1A7) --Goofy Tornado
			WriteShort(Save+0x276E,0x81AD)--Goofy Bash
			WriteShort(Save+0x2770,0x1A9) --Goofy Turbo
			WriteShort(Save+0x2772,0x0C9) --Tornado Fusion
			WriteShort(Save+0x2774,0x0CA) --Teamwork
			WriteShort(Save+0x2776,0x195) --Draw
			WriteShort(Save+0x2778,0x196) --Jackpot
			WriteShort(Save+0x277A,0x197) --Lucky Lucky
			WriteShort(Save+0x277C,0x819B)--Item Boost
			WriteShort(Save+0x277E,0x19C) --MP Rage
			WriteShort(Save+0x2780,0x19E) --Defender
			WriteShort(Save+0x2782,0x21E) --Damage Control
			WriteShort(Save+0x2784,0x19F) --Second Chance
			WriteShort(Save+0x2786,0x1A0) --Once More
			WriteShort(Save+0x2788,0x1A1) --Auto Limit
			WriteShort(Save+0x278A,0x1A2) --Auto Change
			WriteShort(Save+0x278C,0x1A3) --Hyper Healing
			WriteShort(Save+0x278E,0x1A4) --Auto Healing
		end
		if true then --Mulan
			WriteByte(Save+0x2A5C,8) --AP Boost
			WriteShort(Save+0x2AAC,0x1A3) --Hyper Healing
			WriteShort(Save+0x2AAE,0x80CF)--Dragonblaze
			WriteShort(Save+0x2AB0,0x81B2)--Mushu Fire
			WriteShort(Save+0x2AB2,0x81B3)--Flametongue
			WriteShort(Save+0x2AB4,0x1A1) --Auto Limit
			WriteShort(Save+0x2AB6,0x198) --Fire Boost
		end
		if true then --Tron
			WriteByte(Save+0x30D4,8) --AP Boost
			WriteShort(Save+0x3126,0x80D3)--Complete Compilement
			WriteShort(Save+0x3128,0x81BC)--Scouting Disk
			WriteShort(Save+0x312A,0x80D7)--Pulsing Thunder
			WriteShort(Save+0x312C,0x1A1) --Auto Limit
			WriteShort(Save+0x312E,0x19A) --Thunder Boost
			WriteShort(Save+0x3130,0x19D) --MP Haste
		end
		--Starting Items
		WriteByte(Save+0x3666,99) --Power Boost
		WriteByte(Save+0x3667,99) --Magic Boost
		WriteByte(Save+0x3668,99) --Defense Boost
		WriteByte(Save+0x3669,99) --AP Boost
		if true then --Magic, Forms, Summons
			BitOr(Save+0x36C0,0x5F) --Forms & Summons
			BitOr(Save+0x36C4,0x30) --Genie & Peter Pan
			BitOr(Save+0x36CA,0x08) --Limit Form
			WriteByte(Save+0x3594,1) --Fire
			WriteByte(Save+0x3595,1) --Blizzard
			WriteByte(Save+0x3596,1) --Thunder
			WriteByte(Save+0x3597,1) --Cure
			WriteByte(Save+0x35CF,1) --Magnet
			WriteByte(Save+0x35D0,1) --Reflect
		end
		if true then --Keyblades
			WriteByte(Save+0x35A2,1) --Oathkeeper
			WriteByte(Save+0x35A3,1) --Oblivion
			WriteByte(Save+0x367B,1) --Star Seeker
			WriteByte(Save+0x367C,1) --Hidden Dragon
			WriteByte(Save+0x367F,1) --Hero's Crest
			WriteByte(Save+0x3680,1) --Monochrome
			WriteByte(Save+0x3681,1) --Follow the Wind
			WriteByte(Save+0x3682,1) --Circle of Life
			WriteByte(Save+0x3683,1) --Photon Debugger
			WriteByte(Save+0x3684,1) --Gull Wing
			WriteByte(Save+0x3685,1) --Rumbling Rose
			WriteByte(Save+0x3686,1) --Guardian Soul
			WriteByte(Save+0x3687,1) --Wishing Lamp
			WriteByte(Save+0x3688,1) --Decisive Pumpkin
			WriteByte(Save+0x368A,1) --Sweet Memories
			WriteByte(Save+0x368B,1) --Mysterious Abyss
			WriteByte(Save+0x3689,1) --Sleeping Lion
			WriteByte(Save+0x368D,1) --Bond of Flame
			WriteByte(Save+0x3698,1) --Two Become One
			WriteByte(Save+0x368C,1) --Fatal Crest
			WriteByte(Save+0x368E,1) --Fenrir
			WriteByte(Save+0x368F,1) --Ultima Weapon
			WriteByte(Save+0x3699,1) --Winner's Proof
			WriteByte(Save+0x3651,1) --Struggle Sword
			WriteByte(Save+0x3690,1) --Struggle Wand
			WriteByte(Save+0x3691,1) --Struggle Hammer
		end
		if true then --Staves
			WriteByte(Save+0x35EF,1) --Hammer Staff
			WriteByte(Save+0x35F0,1) --Victory Bell
			WriteByte(Save+0x35F2,1) --Comet Staff
			WriteByte(Save+0x35F3,1) --Lord's Broom
			WriteByte(Save+0x35F4,1) --Wisdom Wand
			WriteByte(Save+0x35F1,1) --Meteor Staff
			WriteByte(Save+0x35F5,1) --Rising Dragon
			WriteByte(Save+0x35F7,1) --Shaman's Relic
			WriteByte(Save+0x36B6,1) --Shaman's Relic+
			WriteByte(Save+0x35F6,1) --Nobody Lance
			WriteByte(Save+0x369A,1) --Centurion
			WriteByte(Save+0x369B,1) --Centurion+
			WriteByte(Save+0x367D,1) --Save the Queen
			WriteByte(Save+0x3692,1) --Save the Queen+
			WriteByte(Save+0x369C,1) --Plain Mushroom
			WriteByte(Save+0x369D,1) --Plain Mushroom+
			WriteByte(Save+0x369E,1) --Precious Mushroom
			WriteByte(Save+0x369F,1) --Precious Mushroom+
			WriteByte(Save+0x36A0,1) --Premium Mushroom
		end
		if true then --Shields
			WriteByte(Save+0x35E6,1) --Adamant Shield
			WriteByte(Save+0x35E7,1) --Chain Gear
			WriteByte(Save+0x35E9,1) --Falling Star
			WriteByte(Save+0x35EA,1) --Dreamcloud
			WriteByte(Save+0x35EB,1) --Knight Defender
			WriteByte(Save+0x35E8,1) --Ogre Shield
			WriteByte(Save+0x35EC,1) --Genji Shield
			WriteByte(Save+0x35ED,1) --Akashic Record
			WriteByte(Save+0x36B7,1) --Akashic Record+
			WriteByte(Save+0x35EE,1) --Nobody Guard
			WriteByte(Save+0x36A1,1) --Frozen Pride
			WriteByte(Save+0x36A2,1) --Frozen Pride+
			WriteByte(Save+0x367E,1) --Save the King
			WriteByte(Save+0x3693,1) --Save the King+
			WriteByte(Save+0x36A3,1) --Joyous Mushroom
			WriteByte(Save+0x36A4,1) --Joyous Mushroom+
			WriteByte(Save+0x36A5,1) --Majestic Mushroom
			WriteByte(Save+0x36A6,1) --Majestic Mushroom+
			WriteByte(Save+0x36A7,1) --Ultimate Mushroom
		end
		if true then --Armor
			WriteByte(Save+0x35BC,69) --Elven Bandanna
			WriteByte(Save+0x35BD,69) --Divine Bandanna
			WriteByte(Save+0x35C7,1)  --Protect Belt
			WriteByte(Save+0x35CA,1)  --Gaia Belt
			WriteByte(Save+0x35BE,69) --Power Band
			WriteByte(Save+0x35C6,69) --Buster Band
			WriteByte(Save+0x35D1,1)  --Cosmic Belt
			WriteByte(Save+0x35D7,69) --Fire Bangle
			WriteByte(Save+0x35D8,69) --Fira Bangle
			WriteByte(Save+0x35D9,69) --Firaga Bangle
			WriteByte(Save+0x35DA,69) --Firagun Bangle
			WriteByte(Save+0x35DC,69) --Blizzard Armlet
			WriteByte(Save+0x35DD,69) --Blizzara Armlet
			WriteByte(Save+0x35DE,69) --Blizzaga Armlet
			WriteByte(Save+0x35DF,69) --Blizzagun Armlet
			WriteByte(Save+0x35E2,69) --Thunder Trinket
			WriteByte(Save+0x35E3,69) --Thundara Trinket
			WriteByte(Save+0x35E4,69) --Thundaga Trinket
			WriteByte(Save+0x35E5,69) --Thundagun Trinket
			WriteByte(Save+0x35D2,69) --Shock Charm
			WriteByte(Save+0x35D3,69) --Shock Charm+
			WriteByte(Save+0x35F9,69) --Shadow Anklet
			WriteByte(Save+0x35FB,69) --Dark Anklet
			WriteByte(Save+0x35FC,69) --Midnight Anklet
			WriteByte(Save+0x35FD,69) --Chaos Anklet
			WriteByte(Save+0x3603,1)  --Champion Belt
			WriteByte(Save+0x35FF,69) --Abas Chain
			WriteByte(Save+0x3600,69) --Aegis Chain
			WriteByte(Save+0x3601,69) --Acrisius
			WriteByte(Save+0x3605,69) --Acrisius+
			WriteByte(Save+0x3606,1)  --Cosmic Chain
			WriteByte(Save+0x3604,69) --Petite Ribbon
			WriteByte(Save+0x3602,69) --Ribbon
			WriteByte(Save+0x35D4,1)  --Grand Ribbon
		end
		if true then --Accessory
			WriteByte(Save+0x3587,69) --Ability Ring
			WriteByte(Save+0x3588,69) --Engineer's Ring
			WriteByte(Save+0x3589,69) --Technician's Ring
			WriteByte(Save+0x359F,1)  --Skill Ring
			WriteByte(Save+0x35A0,1)  --Skillful Ring
			WriteByte(Save+0x358A,69) --Expert's Ring
			WriteByte(Save+0x359B,69) --Master's Ring
			WriteByte(Save+0x35AD,1)  --Cosmic Ring
			WriteByte(Save+0x36B5,1)  --Executive's Ring
			WriteByte(Save+0x358B,69) --Sardonyx Ring
			WriteByte(Save+0x358C,69) --Tourmaline Ring
			WriteByte(Save+0x358D,69) --Aquamarine Ring
			WriteByte(Save+0x358E,69) --Garnet Ring
			WriteByte(Save+0x358F,69) --Diamond Ring
			WriteByte(Save+0x3590,69) --Silver Ring
			WriteByte(Save+0x3591,69) --Gold Ring
			WriteByte(Save+0x3592,69) --Platinum Ring
			WriteByte(Save+0x3593,69) --Mythril Ring
			WriteByte(Save+0x359A,69) --Orichalcum Ring
			WriteByte(Save+0x35A6,69) --Soldier Earring
			WriteByte(Save+0x35A7,69) --Fencer Earring
			WriteByte(Save+0x35A8,69) --Mage Earring
			WriteByte(Save+0x35AC,69) --Slayer Earring
			WriteByte(Save+0x35B0,1)  --Medal
			WriteByte(Save+0x359C,69) --Moon Amulet
			WriteByte(Save+0x359E,69) --Star Charm
			WriteByte(Save+0x35B1,1)  --Cosmic Arts
			WriteByte(Save+0x35B2,69) --Shadow Archive
			WriteByte(Save+0x35B7,69) --Shadow Archive+
			WriteByte(Save+0x35B9,69) --Full Bloom
			WriteByte(Save+0x35BB,69) --Full Bloom+
			WriteByte(Save+0x35BA,69) --Draw Ring
			WriteByte(Save+0x35B8,69) --Lucky Ring
		end
		--Tutorial Flags & Form Weapons
		BitOr(Save+0x239E,0x0F)  --Pause Menu (1=Items, 2=Party, 4=Customize, 8=Journal)
		BitNot(Save+0x239E,0x80) --Show Struggle Bats Outside STT
		BitOr(Save+0x36E8,0x01)  --Enable Item in Command Menu
		WriteShort(Save+0x32F4,0x051) --Valor Form equips FAKE
		WriteShort(Save+0x339C,0x02C) --Master Form equips Detection Saber
		WriteShort(Save+0x33D4,0x02D) --Final Form equips Edge of Ultima
		WriteShort(Save+0x4270,0x1FF) --Pause Menu Tutorial Prompts Seen Flags
		WriteShort(Save+0x4274,0x1FF) --Status Form & Summon Seen Flags
		BitOr(Save+0x49F0,0x03) --Shop Tutorial Prompt Flags (1=Big Shops, 2=Small Shops)
		--Unlock Data Portals
		WriteShort(Save+0x06AC,0x02) --Garden of Assemblage MAP (Before Computer)
		WriteShort(Save+0x06B0,0x02) --Garden of Assemblage EVT
		BitOr(Save+0x1D35,0x01) --BB_216_END (Xaldin)
		BitOr(Save+0x1D23,0x08) --HB_FM_COM_VEX_END (Vexen)
		BitOr(Save+0x1D23,0x10) --HB_FM_COM_LEX_END (Lexaeus)
		BitOr(Save+0x1D23,0x40) --HB_FM_COM_ZEX_END (Zexion)
		BitOr(Save+0x1CE9,0x04) --TT_013_END (Axel)
		BitOr(Save+0x1D15,0x08) --HB_418_END (Demyx)
		BitOr(Save+0x1D23,0x80) --HB_FM_COM_MAR_END (Marluxia)
		BitOr(Save+0x1D23,0x20) --HB_FM_COM_LAR_END (Larxene)
		BitOr(Save+0x1ED9,0x01) --EH_GAME_COMPLETE (TWtNW Members)
		--Bonus Level Flag
		BitOr(Save+0x3704,0xFC)
		BitOr(Save+0x3705,0x97)
		BitOr(Save+0x3706,0xFF)
		BitOr(Save+0x3707,0xF7)
		BitOr(Save+0x3708,0xEF)
		BitOr(Save+0x3709,0xED)
		BitOr(Save+0x370A,0x46)
		BitOr(Save+0x370B,0xFF)
		BitOr(Save+0x370C,0xFF)
		BitOr(Save+0x370D,0x03)
		--Atlantica
		WriteShort(Save+0x1094,0x12) --Triton's Throne EVT
		WriteShort(Save+0x10A0,0x0D) --Undersea Courtyard EVT
		BitOr(Save+0x2393,0x20) --Part of Your World
		BitOr(Save+0x2393,0x40) --Under the Sea
		BitOr(Save+0x2393,0x80) --Ursula's Revenge
		BitOr(Save+0x2394,0x01) --A New Day is Dawning
		--100 Acre Wood
		WriteShort(Save+0x0D9A,0x02) --Starry Hill EVT
		WriteShort(Save+0x0DA6,0x03) --Rabbit's House EVT
		WriteShort(Save+0x0DAC,0x03) --Piglet's House EVT
		WriteShort(Save+0x0DB2,0x03) --Kanga's House EVT
		WriteShort(Save+0x0DCA,0x02) --Spooky Cave EVT
		BitOr(Save+0x1DB1,0x40) --PO_MS101_END_L
		BitOr(Save+0x1DB2,0x40) --PO_MS201_END_L
		BitOr(Save+0x1DB3,0x40) --PO_MS301_END_L
		BitOr(Save+0x1DB4,0x20) --PO_MS401_END_L
		BitOr(Save+0x1DB5,0x10) --PO_MS501_END_L
	end
end
end

function GoA()
PrevBtl = ReadShort(Now+0x36)
if Place == 0x1A04 then
	DriveRefill()
	Spawn('Short',0x07,0x034,0x4A1) --Right Chest -> Moogle Shop
	Spawn('Short',0x07,0x060,0x0D1) --RC
	Spawn('Short',0x07,0x074,0x23A) --Left Chest -> Save Point
	Spawn('Short',0x07,0x094,0x032) --Save Door
	Spawn('Short',0x03,0x024,0x0022) --Door to Transport to Remembrance -> Destiny Islands
	Spawn('Short',0x04,0x024,0x0021) --Door to Restoration Site (Destroyed) -> Station of Remembrance
	WriteShort(Save+0x06DA,0x80) --Station of Remembrance EVT
	WriteShort(Save+0x06E0,0x7C) --Destiny Islands EVT
	local RNG     = ReadByte(Save+0x1CF8)
	local Music   = Sys3 + 0x0D28C
	local Costume = Sys3 + 0x159A0
	local Party   = Save + 0x3544
	local Textbox = ReadShort(TxtBox)
	local GuestHP
	local Visit
	local BtlLv   = Save + 0x3724
	if RNG == 0 then
		WriteByte(Save+0x1CF8,math.random(2))
	end
	WriteShort(Music+2,0)
	if Btl == 0 then
		WriteShort(Music,0x89) --A Twinkle in the Sky
		WriteInt(Party,0x12020100)
		if Textbox == 0x761 then
			Visit = 1
		elseif Textbox == 0x762 then
			Visit = 2
		elseif Textbox == 0x763 then
			Visit = 3
		elseif Textbox == 0x764 then
			Visit = 4
		elseif Textbox == 0x765 then
			Visit = 5
		elseif Textbox == 0x766 then
			Visit = 6
		elseif Textbox == 0x767 then
			Visit = 7
		elseif Textbox == 0x768 then
			Visit = 8
		elseif Textbox == 0x769 then
			Visit = 9
		elseif Textbox == 0x76A then
			Visit = 10
		elseif Textbox == 0x76B then
			Visit = 11
		elseif Textbox == 0x76C then
			Visit = 12
		elseif Textbox == 0x76D then
			Visit = 13
		end
		if Visit then
			WriteShort(Save+0x06AE,Visit) --Garden of Assemblage BTL
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x01) --Data Xemnas -> The World that Never Was
			Spawn('Short',0x0A,0x04A,0x04)
			Spawn('Short',0x0A,0x04C,0x1A)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x00)
			Spawn('Short',0x0A,0x068,0x01) --Data Xigbar -> Land of Dragons
			Spawn('Short',0x0A,0x06A,0x04)
			Spawn('Short',0x0A,0x06C,0x1A)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x00)
			Spawn('Short',0x0A,0x088,0x01) --Data Xaldin -> Beast's Castle
			Spawn('Short',0x0A,0x08A,0x04)
			Spawn('Short',0x0A,0x08C,0x1A)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x00)
			Spawn('Short',0x0A,0x0A8,0x01) --Data Vexen -> Halloween Town
			Spawn('Short',0x0A,0x0AA,0x04)
			Spawn('Short',0x0A,0x0AC,0x1A)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x00)
			Spawn('Short',0x0A,0x0C8,0x01) --Data Lexaeus -> Agrabah
			Spawn('Short',0x0A,0x0CA,0x04)
			Spawn('Short',0x0A,0x0CC,0x1A)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x00)
			Spawn('Short',0x0A,0x0E8,0x01) --Data Zexion -> Olympus Coliseum
			Spawn('Short',0x0A,0x0EA,0x04)
			Spawn('Short',0x0A,0x0EC,0x1A)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x00)
			Spawn('Short',0x0A,0x108,0x01) --Data Saix -> Pride Lands
			Spawn('Short',0x0A,0x10A,0x04)
			Spawn('Short',0x0A,0x10C,0x1A)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x00)
			Spawn('Short',0x0A,0x128,0x01) --Data Axel -> Twilight Town
			Spawn('Short',0x0A,0x12A,0x04)
			Spawn('Short',0x0A,0x12C,0x1A)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x00)
			Spawn('Short',0x0A,0x148,0x01) --Data Demyx -> Hollow Bastion/Radiant Garden
			Spawn('Short',0x0A,0x14A,0x04)
			Spawn('Short',0x0A,0x14C,0x1A)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x00)
			Spawn('Short',0x0A,0x168,0x01) --Data Luxord -> Port Royal
			Spawn('Short',0x0A,0x16A,0x04)
			Spawn('Short',0x0A,0x16C,0x1A)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x00)
			Spawn('Short',0x0A,0x188,0x01) --Data Marluxia -> Disney Castle & Timeless River
			Spawn('Short',0x0A,0x18A,0x04)
			Spawn('Short',0x0A,0x18C,0x1A)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x00)
			Spawn('Short',0x0A,0x1A8,0x01) --Data Larxene -> Space Paranoids
			Spawn('Short',0x0A,0x1AA,0x04)
			Spawn('Short',0x0A,0x1AC,0x1A)
			Spawn('Short',0x0A,0x1AE,0x00)
			Spawn('Short',0x0A,0x1B0,0x00)
			Spawn('Short',0x0A,0x1C8,0x01) --Data Roxas -> Simulated Twilight Town
			Spawn('Short',0x0A,0x1CA,0x04)
			Spawn('Short',0x0A,0x1CC,0x1A)
			Spawn('Short',0x0A,0x1CE,0x00)
			Spawn('Short',0x0A,0x1D0,0x00)
		end
	elseif Btl == 1 then
		WriteShort(Music,0x36) --Sacred Moon
		WriteInt(Party,0x83020100)
		WriteInt(BtlLv,0x157D79) --Battle Level
		GuestHP = Save+0x31E5
		if Textbox == 0x761 then
			WriteByte(GuestHP,100)
		elseif Textbox == 0x763 then
			WriteByte(GuestHP,100)
		elseif Textbox == 0x765 then
			WriteByte(GuestHP,100)
		elseif Textbox == 0x767 then
			WriteByte(GuestHP,100)
		elseif Textbox == 0x769 then
			WriteByte(GuestHP,125)
		elseif Textbox == 0x76B then
			WriteByte(GuestHP,125)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Core
			Spawn('Short',0x0A,0x04A,0x12)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x46)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Xemnas I
			Spawn('Short',0x0A,0x06A,0x12)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x3B)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Armor Xemnas I
			Spawn('Short',0x0A,0x08A,0x12)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x47)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Saix
			Spawn('Short',0x0A,0x0AA,0x12)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x38)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Armor Xemnas II
			Spawn('Short',0x0A,0x0CA,0x12)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x49)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Luxord
			Spawn('Short',0x0A,0x0EA,0x12)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x3A)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Xemnas II
			Spawn('Short',0x0A,0x10A,0x12)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x4A)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Xigbar
			Spawn('Short',0x0A,0x12A,0x12)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x39)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Data Xemnas I
			Spawn('Short',0x0A,0x14A,0x12)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x61)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Roxas
			Spawn('Short',0x0A,0x16A,0x12)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x41)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Data Xemnas II
			Spawn('Short',0x0A,0x18A,0x12)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x62)
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 2 then
		WriteShort(Music,0x74) --The Home of Dragons
		WriteArray(Costume,ReadArray(Sys3+0x15DB0,18))
		WriteInt(Party,0x83020100)
		GuestHP = Save+0x2A59
		if Textbox == 0x761 then
			Visit = 1
			WriteByte(GuestHP,55)
		elseif Textbox == 0x762 then
			Visit = 1
			WriteByte(GuestHP,40)
			BitNot(Save+0x1D93,0x01) --MU_MULAN_START
		elseif Textbox == 0x763 then
			Visit = 1
			WriteByte(GuestHP,55)
			WriteShort(Save+0x0C46,0x00) --Palace Gate MAP
			WriteShort(Save+0x0C48,0x00) --Palace Gate BTL
			WriteShort(Save+0x0C4A,0x01) --Palace Gate EVT
			BitNot(Save+0x3555,0x80) --Ping not forced
			BitOr(Save+0x1D93,0x01)  --MU_MULAN_START
		elseif Textbox == 0x764 then
			Visit = 1
			WriteByte(GuestHP,40)
			BitNot(Save+0x1D93,0x01) --MU_MULAN_START
		elseif Textbox == 0x765 then
			Visit = 1
			WriteByte(GuestHP,55)
		elseif Textbox == 0x766 then
			Visit = 1
			WriteByte(GuestHP,40)
			BitNot(Save+0x1D93,0x01) --MU_MULAN_START
		elseif Textbox == 0x767 then
			Visit = 2
		elseif Textbox == 0x768 then
			Visit = 1
			WriteByte(GuestHP,40)
			BitNot(Save+0x1D93,0x01) --MU_MULAN_START
		elseif Textbox == 0x769 then
			Visit = 2
			WriteByte(GuestHP,75)
		elseif Textbox == 0x76A then
			Visit = 1
			WriteByte(GuestHP,40)
			BitNot(Save+0x1D93,0x01) --MU_MULAN_START
		elseif Textbox == 0x76B then
			Visit = 2
			WriteByte(GuestHP,75)
		elseif Textbox == 0x76C then
			Visit = 1
			WriteByte(GuestHP,40)
			BitNot(Save+0x1D93,0x01) --MU_MULAN_START
		elseif Textbox == 0x76D then
			Visit = 2
			WriteByte(GuestHP,75)
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141C01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x147D19)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Imperial Square Heartless I
			Spawn('Short',0x0A,0x04A,0x08)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x4A)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Village Cave Heartless
			Spawn('Short',0x0A,0x06A,0x08)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x48)
			Spawn('Short',0x0A,0x088,0x01) --Data Xaldin -> Shan Yu Skip
			Spawn('Short',0x0A,0x08A,0x08)
			Spawn('Short',0x0A,0x08C,0x09)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x00)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Mountain Trail Run
			Spawn('Short',0x0A,0x0AA,0x08)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x47)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Shan Yu
			Spawn('Short',0x0A,0x0CA,0x08)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x4B)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Mission 3
			Spawn('Short',0x0A,0x0EA,0x08)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x46)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Riku
			Spawn('Short',0x0A,0x10A,0x08)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x4C)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Mission 2
			Spawn('Short',0x0A,0x12A,0x08)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x50)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Imperial Square Heartless II
			Spawn('Short',0x0A,0x14A,0x08)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x51)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Mission 1
			Spawn('Short',0x0A,0x16A,0x08)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x45)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Antechamber Nobodies
			Spawn('Short',0x0A,0x18A,0x08)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x4E)
			Spawn('Short',0x0A,0x1A8,0x02) --Data Larxene -> Encampment Heartless
			Spawn('Short',0x0A,0x1AA,0x08)
			Spawn('Short',0x0A,0x1AC,0x00)
			Spawn('Short',0x0A,0x1AE,0x00)
			Spawn('Short',0x0A,0x1B0,0x44)
			Spawn('Short',0x0A,0x1C8,0x02) --Data Roxas -> Storm Rider
			Spawn('Short',0x0A,0x1CA,0x08)
			Spawn('Short',0x0A,0x1CC,0x00)
			Spawn('Short',0x0A,0x1CE,0x00)
			Spawn('Short',0x0A,0x1D0,0x4F)
		end
	elseif Btl == 3 then
		WriteShort(Music,0x65) --Waltz of the Damned
		WriteArray(Costume,ReadArray(Sys3+0x15D48,18))
		WriteInt(Party,0x83020100)
		GuestHP = Save+0x2D95
		if Textbox == 0x761 then
			Visit = 1
			WriteByte(GuestHP,40)
		elseif Textbox == 0x762 then
			Visit = 1
		elseif Textbox == 0x763 then
			Visit = 1
			WriteByte(GuestHP,40)
		elseif Textbox == 0x764 then
			Visit = 1
			WriteShort(Save+0x07D8,0x02) --Secret Passage MAP
			WriteShort(Save+0x07DA,0x16) --Secret Passage BTL
			WriteShort(Save+0x07DC,0x02) --Secret Passage EVT
		elseif Textbox == 0x765 then
			Visit = 2
			WriteByte(GuestHP,75)
		elseif Textbox == 0x766 then
			Visit = 1
		elseif Textbox == 0x767 then
			Visit = 2
			WriteByte(GuestHP,75)
		elseif Textbox == 0x768 then
			Visit = 1
		elseif Textbox == 0x769 then
			Visit = 2
			WriteByte(GuestHP,75)
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141C01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x147D19)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Shadow Stalker
			Spawn('Short',0x0A,0x04A,0x05)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x4E)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Beast
			Spawn('Short',0x0A,0x06A,0x05)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x45)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Dark Thorn
			Spawn('Short',0x0A,0x08A,0x05)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x4F)
			Spawn('Short',0x0A,0x0A8,0x01) --Data Vexen -> Secret Passage Lanterns
			Spawn('Short',0x0A,0x0AA,0x05)
			Spawn('Short',0x0A,0x0AC,0x0C)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x00)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Ballroom Nobodies
			Spawn('Short',0x0A,0x0CA,0x05)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x4A)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Thresholder
			Spawn('Short',0x0A,0x0EA,0x05)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x48)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Entrance Hall Nobodies
			Spawn('Short',0x0A,0x10A,0x05)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x4B)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Parlor Heartless
			Spawn('Short',0x0A,0x12A,0x05)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x44)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Xaldin
			Spawn('Short',0x0A,0x14A,0x05)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x52)
			Spawn('Short',0x05,0x274,0x000) --Data Luxord
			Spawn('Short',0x05,0x2B4,0x000) --Data Marluxia
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 4 then
		if RNG == 1 then
			WriteShort(Music,0x90) --This is Halloween
			if Platform == 0 then
				WriteShort(Costume+6,0x05F)
				WriteString(Obj0+0x013F0,'P_EX100_NM\0')
				WriteString(Obj0+0x01450,'P_EX100_NM_BTLF\0')
				WriteString(Obj0+0x014B0,'P_EX100_NM_MAGF\0')
				WriteString(Obj0+0x01510,'P_EX100_NM_TRIF\0')
				WriteString(Obj0+0x01570,'P_EX100_NM_ULTF\0')
				WriteString(Obj0+0x015D0,'P_EX100_NM_HTLF\0')
				WriteString(Obj0+0x016F0,'P_EX020_NM\0')
				WriteString(Obj0+0x01750,'P_EX030_NM\0')
				WriteString(Obj0+0x291D0,'P_EX100_NM_KH1F\0')
			elseif Platform == 1 then
				WriteArray(Costume,ReadArray(Sys3+0x15CAC,18))
			end
		elseif RNG == 2 then
			WriteShort(Music,0x40) --What a Surprise?!
			if Platform == 0 then
				WriteShort(Costume+6,0x060)
				WriteString(Obj0+0x013F0,'P_EX100_XM\0')
				WriteString(Obj0+0x01450,'P_EX100_XM_BTLF\0')
				WriteString(Obj0+0x014B0,'P_EX100_XM_MAGF\0')
				WriteString(Obj0+0x01510,'P_EX100_XM_TRIF\0')
				WriteString(Obj0+0x01570,'P_EX100_XM_ULTF\0')
				WriteString(Obj0+0x015D0,'P_EX100_XM_HTLF\0')
				WriteString(Obj0+0x016F0,'P_EX020_XM\0')
				WriteString(Obj0+0x01750,'P_EX030_XM\0')
				WriteString(Obj0+0x291D0,'P_EX100_XM_KH1F\0')
			elseif Platform == 1 then
				WriteArray(Costume,ReadArray(Sys3+0x15CE0,18))
			end
			WriteShort(Costume+6,0x060) --Santa Jack Skellington
		end
		WriteInt(Party,0x83020100)
		GuestHP = Save+0x2EA9
		if Textbox == 0x761 then
			Visit = 2
			WriteByte(GuestHP,85)
		elseif Textbox == 0x762 then
			Visit = 1
			WriteByte(GuestHP,70)
		elseif Textbox == 0x763 then
			Visit = 2
			WriteByte(GuestHP,90)
		elseif Textbox == 0x764 then
			Visit = 1
			WriteByte(GuestHP,55)
		elseif Textbox == 0x765 then
			Visit = 2
		elseif Textbox == 0x766 then
			Visit = 1
			WriteByte(GuestHP,55)
		elseif Textbox == 0x767 then
			Visit = 2
			WriteByte(GuestHP,90)
		elseif Textbox == 0x768 then
			Visit = 1
			WriteByte(GuestHP,55)
		elseif Textbox == 0x769 then
			Visit = 2
			WriteByte(GuestHP,90)
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141D01)
			BitNot(Save+0x1E57,0x04) --NM_SANTA_START
		elseif Visit == 2 then
			WriteInt(BtlLv,0x147D19)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Lock, Shock, Barrel
			Spawn('Short',0x0A,0x04A,0x0E)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x3E)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Oogie Boogie
			Spawn('Short',0x0A,0x06A,0x0E)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x37)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Halloween Town Square Presents
			Spawn('Short',0x0A,0x08A,0x0E)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x3C)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Prison Keeper
			Spawn('Short',0x0A,0x0AA,0x0E)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x34)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Gift Wrapping
			Spawn('Short',0x0A,0x0CA,0x0E)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x3F)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Candy Cane Lane Heartless
			Spawn('Short',0x0A,0x0EA,0x0E)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x35)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> The Experiment
			Spawn('Short',0x0A,0x10A,0x0E)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x40)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Halloween Town Square Heartless
			Spawn('Short',0x0A,0x12A,0x0E)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x33)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Vexen
			Spawn('Short',0x0A,0x14A,0x04)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x73)
			Spawn('Short',0x05,0x274,0x000) --Data Luxord
			Spawn('Short',0x05,0x2B4,0x000) --Data Marluxia
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 5 then
		WriteShort(Music,0x7F) --A Day in Agrabah
		WriteArray(Costume,ReadArray(Sys3+0x15C78,18))
		WriteInt(Party,0x83828100)
		GuestHP = Save+0x2B6D
		if Textbox == 0x761 then
			Visit = 2
		elseif Textbox == 0x762 then
			Visit = 1
			WriteByte(GuestHP,85)
		elseif Textbox == 0x763 then
			Visit = 2
		elseif Textbox == 0x764 then
			Visit = 1
			WriteByte(GuestHP,70)
		elseif Textbox == 0x765 then
			Visit = 2
		elseif Textbox == 0x766 then
			Visit = 1
			WriteByte(GuestHP,70)
		elseif Textbox == 0x767 then
			Visit = 2
		elseif Textbox == 0x768 then
			Visit = 1
			WriteByte(GuestHP,55)
			WriteShort(Save+0x0AC6,0x02) --The Cave of Wonders: Stone Guardians MAP
			WriteShort(Save+0x0AC8,0x02) --The Cave of Wonders: Stone Guardians BTL
			WriteShort(Save+0x0ACA,0x02) --The Cave of Wonders: Stone Guardians EVT
		elseif Textbox == 0x769 then
			Visit = 2
		elseif Textbox == 0x76A then
			Visit = 1
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141D01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x147D19)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Sandswept Ruins Heartless I
			Spawn('Short',0x0A,0x04A,0x07)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x56)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Volcanic Lord & Blizzard Lord
			Spawn('Short',0x0A,0x06A,0x07)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x3B)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Sandswept Ruins Heartless II
			Spawn('Short',0x0A,0x08A,0x07)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x57)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Treasure Room Heartless
			Spawn('Short',0x0A,0x0AA,0x07)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x3A)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Magic Carpet
			Spawn('Short',0x0A,0x0CA,0x07)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x3D)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Chasm of Challenges Heartless
			Spawn('Short',0x0A,0x0EA,0x07)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x4F)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Genie Jafar
			Spawn('Short',0x0A,0x10A,0x07)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x3E)
			Spawn('Short',0x0A,0x128,0x01) --Data Axel -> Abu Escort
			Spawn('Short',0x0A,0x12A,0x07)
			Spawn('Short',0x0A,0x12C,0x09)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x00)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Lexaeus
			Spawn('Short',0x0A,0x14A,0x04)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x8E)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Agrabah Heartless
			Spawn('Short',0x0A,0x16A,0x07)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x39)
			Spawn('Short',0x05,0x2B4,0x000) --Data Marluxia
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 6 then
		if RNG == 1 then
			WriteShort(Music,0x67) --Olympus Coliseum
		elseif RNG == 2 then
			WriteShort(Music,0x64) --The Underworld
		end
		WriteArray(Costume,ReadArray(Sys3+0x15BDC,18))
		WriteInt(Party,0x83020100)
		GuestHP = Save+0x2945
		if Textbox == 0x761 then
			Visit = 2
		elseif Textbox == 0x762 then
			Visit = 1
		elseif Textbox == 0x763 then
			Visit = 2
		elseif Textbox == 0x764 then
			Visit = 1
		elseif Textbox == 0x765 then
			Visit = 2
		elseif Textbox == 0x766 then
			Visit = 1
		elseif Textbox == 0x767 then
			Visit = 2
			WriteByte(GuestHP,85)
		elseif Textbox == 0x768 then
			Visit = 1
		elseif Textbox == 0x769 then
			Visit = 2
		elseif Textbox == 0x76A then
			Visit = 1
			WriteByte(GuestHP,45)
		elseif Textbox == 0x76B then
			Visit = 2
			WriteShort(Save+0x0922,0x03) --Underworld Entrance MAP
			WriteShort(Save+0x0924,0x14) --Underworld Entrance BTL
			WriteShort(Save+0x0926,0x16) --Underworld Entrance EVT
			BitOr(Save+0x239C,0x02) --Pain & Panic
			BitOr(Save+0x239D,0x02) --Cerberus
			BitOr(Save+0x239C,0x08) --Titan
			BitOr(Save+0x239C,0x10) --Goddess of Fate
		elseif Textbox == 0x76C then
			Visit = 1
			WriteByte(GuestHP,45)
		elseif Textbox == 0x76D then
			Visit = 2
			WriteShort(Save+0x0934,0x00) --Hades' Chamber MAP
			WriteShort(Save+0x0936,0x15) --Hades' Chamber BTL
			WriteShort(Save+0x0938,0x14) --Hades' Chamber EVT
			BitOr(Save+0x239C,0x20) --Pain & Panic Paradox
			BitOr(Save+0x239D,0x04) --Cerberus Paradox
			BitOr(Save+0x239C,0x80) --Titan Paradox
			BitOr(Save+0x239D,0x01) --Hades Paradox
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141C01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x147D19)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> The Underdrome Heartless I
			Spawn('Short',0x0A,0x04A,0x06)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x7C)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Hydra
			Spawn('Short',0x0A,0x06A,0x06)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0xAB)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> The Underdrome Heartless II
			Spawn('Short',0x0A,0x08A,0x06)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x7D)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Pete I
			Spawn('Short',0x0A,0x0AA,0x06)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x74)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Hades' Chamber Nobodies
			Spawn('Short',0x0A,0x0CA,0x06)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x7E)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Demyx I
			Spawn('Short',0x0A,0x0EA,0x06)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x7B)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Hades
			Spawn('Short',0x0A,0x10A,0x06)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0xC9)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Phil's Training (Maniac)
			Spawn('Short',0x0A,0x12A,0x06)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x8D)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Zexion
			Spawn('Short',0x0A,0x14A,0x04)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x97)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Cerberus
			Spawn('Short',0x0A,0x16A,0x06)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x72)
			Spawn('Short',0x0A,0x188,0x01) --Data Marluxia -> Cups
			Spawn('Short',0x0A,0x18A,0x06)
			Spawn('Short',0x0A,0x18C,0x03)
			Spawn('Short',0x0A,0x18E,0x03)
			Spawn('Short',0x0A,0x190,0x00)
			Spawn('Short',0x0A,0x1A8,0x02) --Data Larxene -> Hades Escape
			Spawn('Short',0x0A,0x1AA,0x06)
			Spawn('Short',0x0A,0x1AC,0x00)
			Spawn('Short',0x0A,0x1AE,0x00)
			Spawn('Short',0x0A,0x1B0,0x6F)
			Spawn('Short',0x0A,0x1C8,0x01) --Data Roxas -> Paradox Cups
			Spawn('Short',0x0A,0x1CA,0x06)
			Spawn('Short',0x0A,0x1CC,0x06)
			Spawn('Short',0x0A,0x1CE,0x00)
			Spawn('Short',0x0A,0x1D0,0x00)
		end
	elseif Btl == 7 then
		WriteShort(Music,0xBA) --Adventures in the Savannah
		WriteArray(Costume,ReadArray(Sys3+0x15F50,18))
		WriteInt(Party,0x83828100)
		GuestHP = Save+0x2FBD
		if Textbox == 0x761 then
			Visit = 1
			WriteByte(GuestHP,60)
		elseif Textbox == 0x762 then
			Visit = 1
		elseif Textbox == 0x763 then
			Visit = 2
			WriteByte(GuestHP,90)
		elseif Textbox == 0x764 then
			Visit = 1
		elseif Textbox == 0x765 then
			Visit = 2
			WriteByte(GuestHP,95)
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141D01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x15FDF9)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Scar
			Spawn('Short',0x0A,0x04A,0x0A)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x37)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Hyenas I
			Spawn('Short',0x0A,0x06A,0x0A)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x33)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Hyenas II
			Spawn('Short',0x0A,0x08A,0x0A)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x39)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Elephant Graveyard Heartless
			Spawn('Short',0x0A,0x0AA,0x0A)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x38)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Groundshaker
			Spawn('Short',0x0A,0x0CA,0x0A)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x3B)
			Spawn('Short',0x05,0x174,0x000) --Data Zexion
			Spawn('Short',0x05,0x1B4,0x000) --Data Saix
			Spawn('Short',0x05,0x1F4,0x000) --Data Axel
			Spawn('Short',0x05,0x234,0x000) --Data Demyx
			Spawn('Short',0x05,0x274,0x000) --Data Luxord
			Spawn('Short',0x05,0x2B4,0x000) --Data Marluxia
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 8 then
		if RNG == 1 then
			WriteShort(Music,0x34) --The Afternoon Streets
		elseif RNG == 2 then
			WriteShort(Music,0x85) --Magical Mystery
		end
		WriteInt(Party,0x83020100)
		if Textbox == 0x761 then
			Visit = 10
		elseif Textbox == 0x762 then
			Visit = 9
		elseif Textbox == 0x763 then
			Visit = 10
		elseif Textbox == 0x764 then
			Visit = 8
		elseif Textbox == 0x765 then
			Visit = 10
		elseif Textbox == 0x766 then
			Visit = 8
		elseif Textbox == 0x767 then
			Visit = 10
		elseif Textbox == 0x768 then
			Visit = 8
		elseif Textbox == 0x769 then
			Visit = 10
		elseif Textbox == 0x76A then
			Visit = 7
		elseif Textbox == 0x76B then
			Visit = 10
		end
		if Visit == 7 or Visit == 8 then --Battle Level
			WriteInt(BtlLv,0x141C01)
		elseif Visit == 9 then
			WriteInt(BtlLv,0x143D01)
		elseif Visit == 10 then
			WriteInt(BtlLv,0x157D79)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> The Old Mansion Nobodies
			Spawn('Short',0x0A,0x04A,0x02)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0xBA)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Sandlot Dusk
			Spawn('Short',0x0A,0x06A,0x02)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x50)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Betwixt & Between Nobodies I
			Spawn('Short',0x0A,0x08A,0x02)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0xA0)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Moon Chamber Heartless
			Spawn('Short',0x0A,0x0AA,0x02)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x99)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Betwixt & Between Nobodies II
			Spawn('Short',0x0A,0x0CA,0x02)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0xA1)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Star Chamber Heartless
			Spawn('Short',0x0A,0x0EA,0x02)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x98)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Hayner
			Spawn('Short',0x0A,0x10A,0x02)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0xB6)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> The Tower Heartless
			Spawn('Short',0x0A,0x12A,0x02)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x95)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Setzer
			Spawn('Short',0x0A,0x14A,0x02)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0xB7)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Station Plaza Nobodies
			Spawn('Short',0x0A,0x16A,0x02)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x6C)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Seifer
			Spawn('Short',0x0A,0x18A,0x02)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0xB8)
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 9 then
		WriteShort(Music,0x98) --Reviving Hollow Bastion
		WriteInt(Party,0x12020100)
		if Textbox == 0x761 then
			Visit = 4
		elseif Textbox == 0x762 then
			Visit = 4
		elseif Textbox == 0x763 then
			Visit = 4
		elseif Textbox == 0x764 then
			Visit = 4
		elseif Textbox == 0x765 then
			Visit = 4
		elseif Textbox == 0x766 then
			Visit = 4
		elseif Textbox == 0x767 then
			Visit = 4
		elseif Textbox == 0x768 then
			Visit = 2
		elseif Textbox == 0x769 then
			Visit = 4
		elseif Textbox == 0x76A then
			Visit = 1
		elseif Textbox == 0x76B then
			Visit = 5
		elseif Textbox == 0x76C then
			Visit = 1
		elseif Textbox == 0x76D then
			Visit = 5
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141C01)
		elseif Visit == 2 or Visit == 3 then
			WriteInt(BtlLv,0x141D01)
		elseif Visit == 4 then
			WriteInt(BtlLv,0x147D09)
		elseif Visit == 5 then
			WriteInt(BtlLv,0x15FD79)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Ravine Trail Heartless I
			Spawn('Short',0x0A,0x04A,0x04)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x3E)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Demyx
			Spawn('Short',0x0A,0x06A,0x04)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x37)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Ravine Trail Heartless II
			Spawn('Short',0x0A,0x08A,0x04)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x3F)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Restoration Site Nobodies
			Spawn('Short',0x0A,0x0AA,0x04)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x49)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Ravine Trail Heartless III
			Spawn('Short',0x0A,0x0CA,0x04)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x40)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Corridors Fight
			Spawn('Short',0x0A,0x0EA,0x04)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x56)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Ravine Trail Heartless IV
			Spawn('Short',0x0A,0x10A,0x04)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x41)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Borough Heartless I
			Spawn('Short',0x0A,0x12A,0x04)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x3A)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> 1000 Heartless
			Spawn('Short',0x0A,0x14A,0x04)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x42)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Bailey Nobodies
			Spawn('Short',0x0A,0x16A,0x04)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x34)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Borough Heartless II
			Spawn('Short',0x0A,0x18A,0x04)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x48)
			Spawn('Short',0x0A,0x1A8,0x02) --Data Larxene -> Borough Nobodies
			Spawn('Short',0x0A,0x1AA,0x04)
			Spawn('Short',0x0A,0x1AC,0x00)
			Spawn('Short',0x0A,0x1AE,0x00)
			Spawn('Short',0x0A,0x1B0,0x33)
			Spawn('Short',0x0A,0x1C8,0x02) --Data Roxas -> Sephiroth
			Spawn('Short',0x0A,0x1CA,0x04)
			Spawn('Short',0x0A,0x1CC,0x00)
			Spawn('Short',0x0A,0x1CE,0x00)
			Spawn('Short',0x0A,0x1D0,0x4B)
		end
	elseif Btl == 10 then
		WriteShort(Music,0x9A) --Nights of the Cursed
		WriteArray(Costume,ReadArray(Sys3+0x15AD8,18))
		WriteInt(Party,0x83020100)
		GuestHP = Save+0x2C81
		if Textbox == 0x761 then
			Visit = 1
			WriteByte(GuestHP,60)
		elseif Textbox == 0x762 then
			Visit = 1
			WriteByte(GuestHP,50)
		elseif Textbox == 0x763 then
			Visit = 2
			WriteByte(GuestHP,75)
		elseif Textbox == 0x764 then
			Visit = 1
		elseif Textbox == 0x765 then
			Visit = 2
			WriteByte(GuestHP,75)
		elseif Textbox == 0x766 then
			Visit = 1
		elseif Textbox == 0x767 then
			Visit = 2
			WriteByte(GuestHP,85)
		elseif Textbox == 0x768 then
			Visit = 1
		elseif Textbox == 0x769 then
			Visit = 2
			WriteByte(GuestHP,85)
		elseif Textbox == 0x76A then
			Visit = 1
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141C01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x147D19)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Barbossa
			Spawn('Short',0x0A,0x04A,0x10)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x3C)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> The Interceptor Barrels
			Spawn('Short',0x0A,0x06A,0x10)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x38)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Harbor Pirates II
			Spawn('Short',0x0A,0x08A,0x10)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x35)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> The Interceptor Pirates
			Spawn('Short',0x0A,0x0AA,0x10)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x3A)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Grim Reaper I
			Spawn('Short',0x0A,0x0CA,0x10)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x55)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Cave Mouth Pirates
			Spawn('Short',0x0A,0x0EA,0x10)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x3B)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Seadrift Keep Gambler
			Spawn('Short',0x0A,0x10A,0x10)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x3E)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Town Heartless
			Spawn('Short',0x0A,0x12A,0x10)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x37)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Grim Reaper II
			Spawn('Short',0x0A,0x14A,0x10)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x36)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Harbor Pirates I
			Spawn('Short',0x0A,0x16A,0x10)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x33)
			Spawn('Short',0x05,0x2B4,0x000) --Data Marluxia
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 11 then
		if RNG == 1 then
			WriteShort(Music,0x8F) --Mickey Mouse Club March
		elseif RNG == 2 then
			WriteShort(Music,0xBD) --Monochrome Dreams
			if Platform == 0 then
				WriteString(Obj0+0x013F0,'P_EX100_WI\0')
				WriteString(Obj0+0x01450,'P_EX100_WI_BTLF\0')
				WriteString(Obj0+0x014B0,'P_EX100_WI_MAGF\0')
				WriteString(Obj0+0x01510,'P_EX100_WI_TRIF\0')
				WriteString(Obj0+0x01570,'P_EX100_WI_ULTF\0')
				WriteString(Obj0+0x015D0,'P_EX100_WI_HTLF\0')
				WriteString(Obj0+0x016F0,'P_WI020\0')
				WriteString(Obj0+0x01710,'P_WI020.mset\0')
				WriteString(Obj0+0x01750,'P_WI030\0')
				WriteString(Obj0+0x01770,'P_WI030.mset\0')
				WriteString(Obj0+0x291D0,'P_EX100_WI_KH1F\0')
			elseif Platform == 1 then
				WriteArray(Costume,ReadArray(Sys3+0x15F1C,18))
			end
		end
		WriteInt(Party,0x12020100)
		if Textbox == 0x76A then
			WriteShort(Save+0x121C,0x02) --Colonnade MAP
			WriteShort(Save+0x121E,0x02) --Colonnade BTL
			WriteShort(Save+0x1220,0x01) --Colonnade EVT
		end
		WriteInt(BtlLv,0x141D01) --Battle Level
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Scene of the Fire Heartless
			Spawn('Short',0x0A,0x04A,0x0D)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x38)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Lilliput Heartless
			Spawn('Short',0x0A,0x06A,0x0D)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x36)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Mickey's House Heartless
			Spawn('Short',0x0A,0x08A,0x0D)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x39)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Building Site Heartless
			Spawn('Short',0x0A,0x0AA,0x0D)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x37)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Boat Pete
			Spawn('Short',0x0A,0x0CA,0x0D)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x34)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Past Pete
			Spawn('Short',0x0A,0x0EA,0x0D)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x3A)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Pete II
			Spawn('Short',0x0A,0x10A,0x0D)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x35)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Minnie Escort II
			Spawn('Short',0x0A,0x12A,0x0C)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x33)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Terra
			Spawn('Short',0x0A,0x14A,0x0C)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x43)
			Spawn('Short',0x0A,0x168,0x01) --Data Luxord -> Minnie Escort I
			Spawn('Short',0x0A,0x16A,0x0C)
			Spawn('Short',0x0A,0x16C,0x02)
			Spawn('Short',0x0A,0x16E,0x01)
			Spawn('Short',0x0A,0x170,0x00)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Marluxia
			Spawn('Short',0x0A,0x18A,0x04)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x91)
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 12 then
		WriteShort(Music,0x87) --Space Paranoids
		if Platform == 0 then
			WriteShort(Costume+6,0x2D4)
			WriteString(Obj0+0x013F0,'P_EX100_TR\0')
			WriteString(Obj0+0x01450,'P_EX100_TR_BTLF\0')
			WriteString(Obj0+0x014B0,'P_EX100_TR_MAGF\0')
			WriteString(Obj0+0x01510,'P_EX100_TR_TRIF\0')
			WriteString(Obj0+0x01570,'P_EX100_TR_ULTF\0')
			WriteString(Obj0+0x015D0,'P_EX100_TR_HTLF\0')
			WriteString(Obj0+0x016F0,'P_EX020_TR\0')
			WriteString(Obj0+0x01750,'P_EX030_TR\0')
			WriteString(Obj0+0x291D0,'P_EX100_TR_KH1F\0')
		elseif Platform == 1 then
			WriteArray(Costume,ReadArray(Sys3+0x15EE8,18))
		end
		WriteInt(Party,0x83020100)
		GuestHP = Save+0x30D1
		if Textbox == 0x761 then
			Visit = 2
		elseif Textbox == 0x762 then
			Visit = 1
			WriteByte(GuestHP,75)
		elseif Textbox == 0x763 then
			Visit = 2
			WriteByte(GuestHP,90)
		elseif Textbox == 0x764 then
			Visit = 1
			WriteByte(GuestHP,65)
		elseif Textbox == 0x765 then
			Visit = 2
			WriteByte(GuestHP,90)
		elseif Textbox == 0x766 then
			Visit = 1
		elseif Textbox == 0x767 then
			Visit = 2
			WriteByte(GuestHP,95)
		elseif Textbox == 0x768 then
			Visit = 1
		elseif Textbox == 0x769 then
			Visit = 2
			WriteByte(GuestHP,95)
		elseif Textbox == 0x76A then
			Visit = 1
			WriteByte(GuestHP,65)
		elseif Textbox == 0x76B then
			Visit = 2
		end
		if Visit == 1 then --Battle Level
			WriteInt(BtlLv,0x141D01)
		elseif Visit == 2 then
			WriteInt(BtlLv,0x15FD79)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Game Grid Heartless
			Spawn('Short',0x0A,0x04A,0x11)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x35)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Hostile Program
			Spawn('Short',0x0A,0x06A,0x11)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x37)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Hallway Heartless
			Spawn('Short',0x0A,0x08A,0x11)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x38)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Dataspace Monitors
			Spawn('Short',0x0A,0x0AA,0x11)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x36)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Solar Sailer Heartless
			Spawn('Short',0x0A,0x0CA,0x11)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x39)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Light Cycle II
			Spawn('Short',0x0A,0x0EA,0x11)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x3E)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Sark
			Spawn('Short',0x0A,0x10A,0x11)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x3A)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Light Cycle I
			Spawn('Short',0x0A,0x12A,0x11)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x3D)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> MCP
			Spawn('Short',0x0A,0x14A,0x11)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x3B)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> Canyon Cubes
			Spawn('Short',0x0A,0x16A,0x11)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x33)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Larxene
			Spawn('Short',0x0A,0x18A,0x04)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x8F)
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	elseif Btl == 13 then
		if RNG == 1 then
			WriteShort(Music,0x76) --Lazy Afternoons
		elseif RNG == 2 then
			WriteShort(Music,0x32) --Dive into the Heart
		end
		WriteArray(Costume,ReadArray(Sys3+0x15904,18))
		WriteInt(Party,0x12121200)
		if true then --STT Adjustments
			BitNot(Save+0x1CEA,0x01) --TT_ROXAS_END (Play as Roxas)
			BitNot(Save+0x1CE9,0x40) --TT_ROXAS2_START
			BitNot(Save+0x1CE9,0x80) --TT_ROXAS2_END
			if ReadShort(Save+0x257A)&0x8000 == 0x8000 then --Dodge Roll
				BitNot(Save+0x257B,0x80)
				BitOr(Save+0x1CF1,0x01)
			end
			if ReadShort(Save+0x2574)&0x8000 == 0x8000 then --Trinity Limit
				BitNot(Save+0x2575,0x80)
				BitOr(Save+0x1CF1,0x02)
			end
			while ReadByte(Save+0x3594) > 0 do --Fire
				WriteByte(Save+0x1CF2,ReadByte(Save+0x1CF2)+1)
				WriteByte(Save+0x3594,ReadByte(Save+0x3594)-1)
			end
			while ReadByte(Save+0x3595) > 0 do --Blizzard
				WriteByte(Save+0x1CF3,ReadByte(Save+0x1CF3)+1)
				WriteByte(Save+0x3595,ReadByte(Save+0x3595)-1)
			end
			while ReadByte(Save+0x3596) > 0 do --Thunder
				WriteByte(Save+0x1CF4,ReadByte(Save+0x1CF4)+1)
				WriteByte(Save+0x3596,ReadByte(Save+0x3596)-1)
			end
			while ReadByte(Save+0x3597) > 0 do --Cure
				WriteByte(Save+0x1CF5,ReadByte(Save+0x1CF5)+1)
				WriteByte(Save+0x3597,ReadByte(Save+0x3597)-1)
			end
			while ReadByte(Save+0x35CF) > 0 do --Magnet
				WriteByte(Save+0x1CF6,ReadByte(Save+0x1CF6)+1)
				WriteByte(Save+0x35CF,ReadByte(Save+0x35CF)-1)
			end
			while ReadByte(Save+0x35D0) > 0 do --Reflect
				WriteByte(Save+0x1CF7,ReadByte(Save+0x1CF7)+1)
				WriteByte(Save+0x35D0,ReadByte(Save+0x35D0)-1)
			end
		end
		local Equip = ReadShort(Save+0x24F0) --Currently equipped Keyblade
		local Store = ReadShort(Save+0x1CF9) --Last equipped Keyblade
		if Equip ~= Store then
			if PrevPlace == 0x1A04 and PrevBtl == 13 then
				WriteShort(Save+0x1CF9,Equip) --Change Stored Keyblade
			elseif Store > 0 then
				WriteShort(Save+0x24F0,Store) --Change Equipped Keyblade
			end
		end
		if Textbox == 0x761 then
			Visit = 4
		elseif Textbox == 0x762 then
			Visit = 4
		elseif Textbox == 0x763 then
			Visit = 4
		elseif Textbox == 0x764 then
			Visit = 4
		elseif Textbox == 0x765 then
			Visit = 5
		elseif Textbox == 0x766 then
			Visit = 3
		elseif Textbox == 0x767 then
			Visit = 5
		elseif Textbox == 0x768 then
			Visit = 3
		elseif Textbox == 0x769 then
			Visit = 6
		elseif Textbox == 0x76A then
			Visit = 1
		elseif Textbox == 0x76B then
			Visit = 6
		elseif Textbox == 0x76C then
			Visit = 1
		elseif Textbox == 0x76D then
			Visit = 6
		end
		if Visit == 1 or Visit == 2 or Visit == 3 then --Battle Level
			WriteInt(BtlLv,0x040001)
		elseif Visit == 4 or Visit == 5 then
			WriteInt(BtlLv,0x140001)
		elseif Visit == 6 then
			WriteInt(BtlLv,0x140401)
		end
		if true then --Portal Warp Pointers
			Spawn('Short',0x0A,0x048,0x02) --Data Xemnas -> Sandlot Nobodies I
			Spawn('Short',0x0A,0x04A,0x02)
			Spawn('Short',0x0A,0x04C,0x00)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x56)
			Spawn('Short',0x0A,0x068,0x02) --Data Xigbar -> Vivi
			Spawn('Short',0x0A,0x06A,0x02)
			Spawn('Short',0x0A,0x06C,0x00)
			Spawn('Short',0x0A,0x06E,0x00)
			Spawn('Short',0x0A,0x070,0x55)
			Spawn('Short',0x0A,0x088,0x02) --Data Xaldin -> Axel I
			Spawn('Short',0x0A,0x08A,0x02)
			Spawn('Short',0x0A,0x08C,0x00)
			Spawn('Short',0x0A,0x08E,0x00)
			Spawn('Short',0x0A,0x090,0x57)
			Spawn('Short',0x0A,0x0A8,0x02) --Data Vexen -> Hayner
			Spawn('Short',0x0A,0x0AA,0x02)
			Spawn('Short',0x0A,0x0AC,0x00)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x54)
			Spawn('Short',0x0A,0x0C8,0x02) --Data Lexaeus -> Vivi Clones
			Spawn('Short',0x0A,0x0CA,0x02)
			Spawn('Short',0x0A,0x0CC,0x00)
			Spawn('Short',0x0A,0x0CE,0x00)
			Spawn('Short',0x0A,0x0D0,0x9F)
			Spawn('Short',0x0A,0x0E8,0x02) --Data Zexion -> Twilight Thorn
			Spawn('Short',0x0A,0x0EA,0x02)
			Spawn('Short',0x0A,0x0EC,0x00)
			Spawn('Short',0x0A,0x0EE,0x00)
			Spawn('Short',0x0A,0x0F0,0x9D)
			Spawn('Short',0x0A,0x108,0x02) --Data Saix -> Shadow Roxas
			Spawn('Short',0x0A,0x10A,0x02)
			Spawn('Short',0x0A,0x10C,0x00)
			Spawn('Short',0x0A,0x10E,0x00)
			Spawn('Short',0x0A,0x110,0x79)
			Spawn('Short',0x0A,0x128,0x02) --Data Axel -> Station of Serenity Nobodies
			Spawn('Short',0x0A,0x12A,0x02)
			Spawn('Short',0x0A,0x12C,0x00)
			Spawn('Short',0x0A,0x12E,0x00)
			Spawn('Short',0x0A,0x130,0x9A)
			Spawn('Short',0x0A,0x148,0x02) --Data Demyx -> Back Alley Nobodies
			Spawn('Short',0x0A,0x14A,0x02)
			Spawn('Short',0x0A,0x14C,0x00)
			Spawn('Short',0x0A,0x14E,0x00)
			Spawn('Short',0x0A,0x150,0x49)
			Spawn('Short',0x0A,0x168,0x02) --Data Luxord -> The Old Mansion Dusk
			Spawn('Short',0x0A,0x16A,0x02)
			Spawn('Short',0x0A,0x16C,0x00)
			Spawn('Short',0x0A,0x16E,0x00)
			Spawn('Short',0x0A,0x170,0x7F)
			Spawn('Short',0x0A,0x188,0x02) --Data Marluxia -> Basement Hall Nobodies
			Spawn('Short',0x0A,0x18A,0x02)
			Spawn('Short',0x0A,0x18C,0x00)
			Spawn('Short',0x0A,0x18E,0x00)
			Spawn('Short',0x0A,0x190,0x86)
			Spawn('Short',0x0A,0x1A8,0x02) --Data Larxene -> Tutorial Seifer
			Spawn('Short',0x0A,0x1AA,0x02)
			Spawn('Short',0x0A,0x1AC,0x00)
			Spawn('Short',0x0A,0x1AE,0x00)
			Spawn('Short',0x0A,0x1B0,0x4D)
			Spawn('Short',0x0A,0x1C8,0x02) --Data Roxas -> Axel II
			Spawn('Short',0x0A,0x1CA,0x02)
			Spawn('Short',0x0A,0x1CC,0x00)
			Spawn('Short',0x0A,0x1CE,0x00)
			Spawn('Short',0x0A,0x1D0,0x89)
		end
	elseif Btl == 15 then
		WriteShort(Music,0x44) --Cavern of Remembrance
		if Textbox == 0x761 then
			WriteShort(Save+0x06A6,0x00) --Transport to Remembrance MAP
			WriteShort(Save+0x06A8,0x01) --Transport to Remembrance BTL
			WriteShort(Save+0x06AA,0x01) --Transport to Remembrance EVT
		elseif Textbox == 0x762 then
			WriteShort(Save+0x06A0,0x03) --Cavern of Remembrance: Mineshaft MAP
			WriteShort(Save+0x06A2,0x02) --Cavern of Remembrance: Mineshaft BTL
			WriteShort(Save+0x06A4,0x02) --Cavern of Remembrance: Mineshaft EVT
		elseif Textbox == 0x763 then
			WriteShort(Save+0x06A6,0x00) --Transport to Remembrance MAP
			WriteShort(Save+0x06A8,0x02) --Transport to Remembrance BTL
			WriteShort(Save+0x06AA,0x02) --Transport to Remembrance EVT
		elseif Textbox == 0x764 then
			WriteShort(Save+0x06A0,0x02) --Cavern of Remembrance: Mineshaft MAP
			WriteShort(Save+0x06A2,0x01) --Cavern of Remembrance: Mineshaft BTL
			WriteShort(Save+0x06A4,0x01) --Cavern of Remembrance: Mineshaft EVT
		elseif Textbox == 0x765 then
			WriteShort(Save+0x06A6,0x00) --Transport to Remembrance MAP
			WriteShort(Save+0x06A8,0x03) --Transport to Remembrance BTL
			WriteShort(Save+0x06AA,0x03) --Transport to Remembrance EVT
		end
		if true then --Portal Warp Pointers
			WriteShort(Save+0x0694,0x01) --Cavern of Remembrance: Mining Area MAP
			WriteShort(Save+0x0696,0x01) --Cavern of Remembrance: Mining Area BTL
			WriteShort(Save+0x0698,0x01) --Cavern of Remembrance: Mining Area EVT
			Spawn('Short',0x0A,0x048,0x01) --Data Xemnas -> Transport to Remembrance Nobodies I
			Spawn('Short',0x0A,0x04A,0x04)
			Spawn('Short',0x0A,0x04C,0x19)
			Spawn('Short',0x0A,0x04E,0x00)
			Spawn('Short',0x0A,0x050,0x00)
			Spawn('Short',0x0A,0x068,0x01) --Data Xigbar -> Mineshaft Heartless II
			Spawn('Short',0x0A,0x06A,0x04)
			Spawn('Short',0x0A,0x06C,0x18)
			Spawn('Short',0x0A,0x06E,0x03)
			Spawn('Short',0x0A,0x070,0x00)
			Spawn('Short',0x0A,0x088,0x01) --Data Xaldin -> Transport to Remembrance Nobodies II
			Spawn('Short',0x0A,0x08A,0x04)
			Spawn('Short',0x0A,0x08C,0x19)
			Spawn('Short',0x0A,0x08E,0x15)
			Spawn('Short',0x0A,0x090,0x00)
			Spawn('Short',0x0A,0x0A8,0x01) --Data Vexen -> Mineshaft Heartless I
			Spawn('Short',0x0A,0x0AA,0x04)
			Spawn('Short',0x0A,0x0AC,0x18)
			Spawn('Short',0x0A,0x0AE,0x00)
			Spawn('Short',0x0A,0x0B0,0x00)
			Spawn('Short',0x0A,0x0C8,0x01) --Data Lexaeus -> Transport to Remembrance Nobodies III
			Spawn('Short',0x0A,0x0CA,0x04)
			Spawn('Short',0x0A,0x0CC,0x19)
			Spawn('Short',0x0A,0x0CE,0x16)
			Spawn('Short',0x0A,0x0D0,0x00)
			Spawn('Short',0x05,0x174,0x000) --Data Zexion
			Spawn('Short',0x05,0x1B4,0x000) --Data Saix
			Spawn('Short',0x05,0x1F4,0x000) --Data Axel
			Spawn('Short',0x05,0x234,0x000) --Data Demyx
			Spawn('Short',0x05,0x274,0x000) --Data Luxord
			Spawn('Short',0x05,0x2B4,0x000) --Data Marluxia
			Spawn('Short',0x05,0x2F4,0x000) --Data Larxene
			Spawn('Short',0x05,0x334,0x000) --Data Roxas
		end
	end
	WriteByte(Save+0x3580,69) --Potion
	WriteByte(Save+0x3581,69) --Hi-Potion
	WriteByte(Save+0x3582,69) --Ether
	WriteByte(Save+0x3583,69) --Elixir
	WriteByte(Save+0x3584,69) --Mega-Potion
	WriteByte(Save+0x3585,69) --Mega-Ether
	WriteByte(Save+0x3586,69) --Megalixir
	WriteByte(Slot1+0x1B0,100) --Drive
	WriteByte(Slot1+0x1B1,ReadByte(Slot1+0x1B2))
	WriteByte(Slot1+0x000,ReadByte(Slot1+0x004)) --Sora HP
	WriteByte(Slot1+0x180,ReadByte(Slot1+0x184)) --Sora MP
	WriteByte(Save+0x24F9,ReadByte(Save+0x3666)) --Sora Strength
	WriteByte(Save+0x24FA,ReadByte(Save+0x3667)) --Sora Magic
	WriteByte(Save+0x24FB,ReadByte(Save+0x3668)) --Sora Defense
	for Member = 0,12 do --Party Level
		WriteByte(Save+0x24FF + 0x114*Member,math.max(ReadByte(Save+0x3669),1))
	end
	WriteInt(Save+0x36E0,0)  --Party EXP
	WriteByte(Save+0x3410,0) --Anti Points
	WriteByte(Save+0x3DB0,0) --Mickey Points
	local CurMenu2 = Menu(Menu2)
	local Cursor
	if CurMenu2 == 8 then --Lock Party
		BitOr(Party+1,0x80)
		BitOr(Party+2,0x80)
	end
	if ReadByte(Save+0x3599) == 0 then
		if CurMenu2 == 0 and Menu(Menu1) == 0 then --Page 1
			if Platform == 0 then
				Cursor = ReadByte(0x1C5F5C0)
			elseif Platform == 1 then
				Cursor = ReadByte(0x2A0DD7C-0x56450E)
			end
			if Cursor == 0 and Buttons() == 'Hyena' then
				WriteByte(Save+0x3666,99) --Power Boost
				WriteByte(Save+0x3667,99) --Magic Boost
				WriteByte(Save+0x3668,99) --Defense Boost
				WriteByte(Save+0x3669,99)  --AP Boost
			elseif Cursor == 1 then --Magic -> MP
				Increment(Slot1+0x184,5,100,140)
			elseif Cursor == 2 then --Item -> HP
				Increment(Slot1+0x004,2,20,120)
			elseif Cursor == 3 then --Drive -> Drive
				Increment(Slot1+0x1B2,1,3,9)
			end
		elseif CurMenu2 == 1 then --Magic
			if Platform == 0 then
				Cursor = ReadByte(0x1C5F634)
			elseif Platform == 1 then
				Cursor = ReadByte(0x2A0DDFC-0x56450E)
			end
			if Cursor == 0 then --Fire
				Increment(Save+0x3594,1,1,3)
			elseif Cursor == 1 then --Blizzard
				Increment(Save+0x3595,1,1,3)
			elseif Cursor == 2 then --Thunder
				Increment(Save+0x3596,1,1,3)
			elseif Cursor == 3 then --Cure
				Increment(Save+0x3597,1,1,3)
			elseif Cursor == 4 then --Magnet
				Increment(Save+0x35CF,1,1,3)
			elseif Cursor == 5 then --Reflect
				Increment(Save+0x35D0,1,1,3)
			end
		elseif CurMenu2 == 3 then --Drive
			if Platform == 0 then
				Cursor = ReadShort(0x1C5F71C)
			elseif Platform == 1 then
				Cursor = ReadByte(0x2A0DEFC-0x56450E)
			end
			if Cursor == 0 and Btl ~= 13 then --Valor
				Increment(Save+0x32F6,1,1,7)
				if Buttons() == 'Square' then
					Ability = ReadShort(Save+0x2576)
					if Ability|0x8000 == 0x8061 then
						WriteShort(Save+0x2576,Ability-3)
					else
						WriteShort(Save+0x2576,Ability+1)
					end
					WriteByte(Save+0x3599,1)
				end
			elseif Cursor == 1 then --Wisdom
				Increment(Save+0x332E,1,1,7)
				if Buttons() == 'Square' then
					Ability = ReadShort(Save+0x2578)
					if Ability|0x8000 == 0x8065 then
						WriteShort(Save+0x2578,Ability-3)
					else
						WriteShort(Save+0x2578,Ability+1)
					end
					WriteByte(Save+0x3599,1)
				end
			elseif Cursor == 2 or Btl == 13 then --Limit
				Increment(Save+0x3366,1,1,7)
				if Buttons() == 'Square' then
					Ability = ReadShort(Save+0x257A)
					if Ability|0x8000 == 0x8237 then
						WriteShort(Save+0x257A,Ability-3)
					else
						WriteShort(Save+0x257A,Ability+1)
					end
					WriteByte(Save+0x3599,1)
				end
			elseif Cursor == 3 then --Master
				Increment(Save+0x339E,1,1,7)
				if Buttons() == 'Square' then
					Ability = ReadShort(Save+0x257C)
					if Ability|0x8000 == 0x8069 then
						WriteShort(Save+0x257C,Ability-3)
					else
						WriteShort(Save+0x257C,Ability+1)
					end
					WriteByte(Save+0x3599,1)
				end
			elseif Cursor == 4 then --Final
				Increment(Save+0x33D6,1,1,7)
				if Buttons() == 'Square' then
					Ability = ReadShort(Save+0x257E)
					if Ability|0x8000 == 0x806D then
						WriteShort(Save+0x257E,Ability-3)
					else
						WriteShort(Save+0x257E,Ability+1)
					end
					WriteByte(Save+0x3599,1)
				end
			end
		elseif CurMenu2 == 7 then --Summon
			Increment(Save+0x3526,1,1,7)
		elseif CurMenu2 == 8 then --Party
			if Platform == 0 then
				Cursor = ReadShort(0x1C5F954)
			elseif Platform == 1 then
				Cursor = ReadByte(0x2A0E17C-0x56450E)
			end
			if Cursor == 0 then --Donald
				Increment(Slot2+0x004,1,18,90)
			elseif Cursor == 1 then --Goofy
				Increment(Slot3+0x004,2,28,116)
			end
		end
	elseif ReadByte(Save+0x3599) == 1 and not Buttons() then
		WriteByte(Save+0x3599,0)
	end
elseif Place == 0x2204 and Events(0x00,0x00,0x7C) then --Garden of Assemblage Entrance (Zexion)
	DriveRefill()
	if PrevBtl == 0 then --100 Acre Wood
		WriteShort(Save+0x06AE,0x00) --Garden of Assemblage BTL
		Spawn('Short',0x06,0x0FC,0x01)
		Spawn('Short',0x06,0x0FE,0x09)
		Spawn('Short',0x06,0x100,0x00)
		Spawn('Short',0x06,0x102,0x06)
		Spawn('Short',0x06,0x104,0x00)
	elseif PrevBtl == 9 then --Cavern of Remembrance
		WriteShort(Save+0x06AE,0x0F) --Garden of Assemblage BTL
		Spawn('Short',0x06,0x0FC,0x01)
		Spawn('Short',0x06,0x0FE,0x04)
		Spawn('Short',0x06,0x100,0x1A)
		Spawn('Short',0x06,0x102,0x00)
		Spawn('Short',0x06,0x104,0x00)
	else --World Map
		WriteShort(Save+0x06AE,0x00) --Garden of Assemblage BTL
		Spawn('Short',0x06,0x0FC,0x01)
		Spawn('Short',0x06,0x0FE,0x04)
		Spawn('Short',0x06,0x100,0x1A)
		Spawn('Short',0x06,0x102,20+PrevBtl)
		Spawn('Short',0x06,0x104,0x00)
		if PrevBtl == 15 then
			Spawn('Short',0x06,0x102,29)
		end
		if true then --STT Adjustments
			BitOr(Save+0x1CEA,0x01) --TT_ROXAS_END (Play as Sora)
			if ReadByte(Save+0x1CF1)&0x01 == 0x01 then --Dodge Roll
				BitOr(Save+0x257B,0x80)
				BitNot(Save+0x1CF1,0x01)
			end
			if ReadByte(Save+0x1CF1)&0x02 == 0x02 then --Trinity Limit
				BitOr(Save+0x2575,0x80)
				BitNot(Save+0x1CF1,0x02)
			end
			while ReadByte(Save+0x1CF2) > 0 do --Fire
				WriteByte(Save+0x1CF2,ReadByte(Save+0x1CF2)-1)
				WriteByte(Save+0x3594,ReadByte(Save+0x3594)+1)
			end
			while ReadByte(Save+0x1CF3) > 0 do --Blizzard
				WriteByte(Save+0x1CF3,ReadByte(Save+0x1CF3)-1)
				WriteByte(Save+0x3595,ReadByte(Save+0x3595)+1)
			end
			while ReadByte(Save+0x1CF4) > 0 do --Thunder
				WriteByte(Save+0x1CF4,ReadByte(Save+0x1CF4)-1)
				WriteByte(Save+0x3596,ReadByte(Save+0x3596)+1)
			end
			while ReadByte(Save+0x1CF5) > 0 do --Cure
				WriteByte(Save+0x1CF5,ReadByte(Save+0x1CF5)-1)
				WriteByte(Save+0x3597,ReadByte(Save+0x3597)+1)
			end
			while ReadByte(Save+0x1CF6) > 0 do --Magnet
				WriteByte(Save+0x1CF6,ReadByte(Save+0x1CF6)-1)
				WriteByte(Save+0x35CF,ReadByte(Save+0x35CF)+1)
			end
			while ReadByte(Save+0x1CF7) > 0 do --Reflect
				WriteByte(Save+0x1CF7,ReadByte(Save+0x1CF7)-1)
				WriteByte(Save+0x35D0,ReadByte(Save+0x35D0)+1)
			end
		end
	end
	WriteByte(CutSkp,1)
elseif Place == 0x2104 and Events(0x00,0x00,0x80) then --Garden of Assemblage Exit (Larxene)
	if PrevBtl == 0 then --Atlantica
		DriveRefill()
		Spawn('Short',0x0A,0x134,0x01)
		Spawn('Short',0x0A,0x136,0x0B)
		Spawn('Short',0x0A,0x138,0x02)
		Spawn('Short',0x0A,0x13A,0x63)
		Spawn('Short',0x0A,0x13C,0x00)
	elseif PrevBtl == 15 then --Mining Area Valves
		Spawn('Short',0x0A,0x134,0x01)
		Spawn('Short',0x0A,0x136,0x04)
		Spawn('Short',0x0A,0x138,0x16)
		Spawn('Short',0x0A,0x13A,0x02)
		Spawn('Short',0x0A,0x13C,0x00)
	else --Datas
		DriveRefill()
		local WarpWorld, WarpEvt
		if PrevBtl == 1 then --Dragon Xemnas
			WarpWorld = 0x12
			WarpEvt   = 0x48
		elseif PrevBtl == 2 then
			WarpWorld = 0x12
			WarpEvt   = 0x64
		elseif PrevBtl == 3 then
			WarpWorld = 0x05
			WarpEvt   = 0x61
		elseif PrevBtl == 4 then
			WarpWorld = 0x04
			WarpEvt   = 0x92
		elseif PrevBtl == 5 then
			WarpWorld = 0x04
			WarpEvt   = 0x93
		elseif PrevBtl == 6 then
			WarpWorld = 0x04
			WarpEvt   = 0x98
		elseif PrevBtl == 7 then
			WarpWorld = 0x12
			WarpEvt   = 0x66
		elseif PrevBtl == 8 then
			WarpWorld = 0x02
			WarpEvt   = 0xD5
		elseif PrevBtl == 9 then
			WarpWorld = 0x04
			WarpEvt   = 0x72
		elseif PrevBtl == 10 then
			WarpWorld = 0x12
			WarpEvt   = 0x65
		elseif PrevBtl == 11 then
			WarpWorld = 0x04
			WarpEvt   = 0x96
		elseif PrevBtl == 12 then
			WarpWorld = 0x04
			WarpEvt   = 0x94
		elseif PrevBtl == 13 then
			WarpWorld = 0x12
			WarpEvt   = 0x63
		end
		Spawn('Short',0x0A,0x136,WarpWorld)
		Spawn('Short',0x0A,0x13C,WarpEvt)
		if true then --STT Adjustments
			BitOr(Save+0x1CEA,0x01) --TT_ROXAS_END (Play as Sora)
			if ReadByte(Save+0x1CF1)&0x01 == 0x01 then --Dodge Roll
				BitOr(Save+0x257B,0x80)
				BitNot(Save+0x1CF1,0x01)
			end
			if ReadByte(Save+0x1CF1)&0x02 == 0x02 then --Trinity Limit
				BitOr(Save+0x2575,0x80)
				BitNot(Save+0x1CF1,0x02)
			end
			while ReadByte(Save+0x1CF2) > 0 do --Fire
				WriteByte(Save+0x1CF2,ReadByte(Save+0x1CF2)-1)
				WriteByte(Save+0x3594,ReadByte(Save+0x3594)+1)
			end
			while ReadByte(Save+0x1CF3) > 0 do --Blizzard
				WriteByte(Save+0x1CF3,ReadByte(Save+0x1CF3)-1)
				WriteByte(Save+0x3595,ReadByte(Save+0x3595)+1)
			end
			while ReadByte(Save+0x1CF4) > 0 do --Thunder
				WriteByte(Save+0x1CF4,ReadByte(Save+0x1CF4)-1)
				WriteByte(Save+0x3596,ReadByte(Save+0x3596)+1)
			end
			while ReadByte(Save+0x1CF5) > 0 do --Cure
				WriteByte(Save+0x1CF5,ReadByte(Save+0x1CF5)-1)
				WriteByte(Save+0x3597,ReadByte(Save+0x3597)+1)
			end
			while ReadByte(Save+0x1CF6) > 0 do --Magnet
				WriteByte(Save+0x1CF6,ReadByte(Save+0x1CF6)-1)
				WriteByte(Save+0x35CF,ReadByte(Save+0x35CF)+1)
			end
			while ReadByte(Save+0x1CF7) > 0 do --Reflect
				WriteByte(Save+0x1CF7,ReadByte(Save+0x1CF7)-1)
				WriteByte(Save+0x35D0,ReadByte(Save+0x35D0)+1)
			end
		end
	end
	WriteByte(CutSkp,1)
elseif Place == 0x0009 then --The Hundred Acre Wood -> Garden of Assemblage
	Spawn('Short',0x01,0x2AC,0x1A)
	Spawn('Short',0x01,0x2AE,0x00)
elseif Place == 0x000F then --Atlantica -> Garden of Assemblage
	Warp(0x04,0x1A,0x01,0x02,0x00,0x02)
elseif Place == 0x0909 then --Spooky Cave
	if Events(0x3D,0x3D,0x3D) then --The Expotition
		WriteShort(Save+0x202C,0x8596) --Hundred Acre Wood Barrier
	else
		WriteShort(Save+0x202C,0x0000) --Hundred Acre Wood Barrier Removal
	end
end
--Garden of Assemblage Reset
if Place ~= 0x1A04 and ReadByte(Save+0x1CF8) ~= 0 then
	WriteByte(Save+0x1CF8,0)
	WriteArray(Sys3+0x159A0,ReadArray(Sys3+0x15868,18)) --Revert Costume
	if Platform == 0 then
		WriteString(Obj0+0x013F0,'P_EX100\0')
		WriteString(Obj0+0x01450,'P_EX100_BTLF\0')
		WriteString(Obj0+0x014B0,'P_EX100_MAGF\0')
		WriteString(Obj0+0x01510,'P_EX100_TRIF\0')
		WriteString(Obj0+0x01570,'P_EX100_ULTF\0')
		WriteString(Obj0+0x015D0,'P_EX100_HTLF\0')
		WriteString(Obj0+0x016F0,'P_EX020\0')
		WriteString(Obj0+0x01710,'P_EX020.mset\0')
		WriteString(Obj0+0x01750,'P_EX030\0')
		WriteString(Obj0+0x01770,'P_EX030.mset\0')
		WriteString(Obj0+0x291D0,'P_EX100_KH1F\0')
	end
end
--Form Movement
if true then
	local ValorLv = ReadByte(Save+0x32F6)
	local WisdmLv = ReadByte(Save+0x332E)
	local LimitLv = ReadByte(Save+0x3366)
	local MastrLv = ReadByte(Save+0x339E)
	local FinalLv = ReadByte(Save+0x33D6)
	if ValorLv == 1 or ValorLv == 2 then WriteShort(Save+0x32FC,0x805E)
	elseif ValorLv == 3 or ValorLv == 4 then WriteShort(Save+0x32FC,0x805F)
	elseif ValorLv == 5 or ValorLv == 6 then WriteShort(Save+0x32FC,0x8060)
	elseif ValorLv == 7 then WriteShort(Save+0x32FC,0x8061) end
	if WisdmLv == 1 or WisdmLv == 2 then WriteShort(Save+0x3334,0x8062)
	elseif WisdmLv == 3 or WisdmLv == 4 then WriteShort(Save+0x3334,0x8063)
	elseif WisdmLv == 5 or WisdmLv == 6 then WriteShort(Save+0x3334,0x8064)
	elseif WisdmLv == 7 then WriteShort(Save+0x3334,0x8065) end
	if LimitLv == 1 or LimitLv == 2 then WriteShort(Save+0x336C,0x8234)
	elseif LimitLv == 3 or LimitLv == 4 then WriteShort(Save+0x336C,0x8235)
	elseif LimitLv == 5 or LimitLv == 6 then WriteShort(Save+0x336C,0x8236)
	elseif LimitLv == 7 then WriteShort(Save+0x336C,0x8237) end
	if MastrLv == 1 or MastrLv == 2 then WriteShort(Save+0x33A4,0x8066)
	elseif MastrLv == 3 or MastrLv == 4 then WriteShort(Save+0x33A4,0x8067)
	elseif MastrLv == 5 or MastrLv == 6 then WriteShort(Save+0x33A4,0x8068)
	elseif MastrLv == 7 then WriteShort(Save+0x33A4,0x8069) end
	if FinalLv == 1 or FinalLv == 2 then WriteShort(Save+0x33DC,0x806A)
	elseif FinalLv == 3 or FinalLv == 4 then WriteShort(Save+0x33DC,0x806B)
	elseif FinalLv == 5 or FinalLv == 6 then WriteShort(Save+0x33DC,0x806C)
	elseif FinalLv == 7 then WriteShort(Save+0x33DC,0x806D) end
end
--Mulan's Abilities
if Place == 0x1A04 and Btl == 2 then
	for i = 0,5 do
		if ReadByte(Save+0x1CF1)&2^i == 2^i then
			BitOr(Save+0x2AAD+2*i,0x80)
			BitNot(Save+0x1CF1,2^i)
		end
	end
elseif World == 0x08 then
	local MulanHP = ReadByte(Save+0x2A59)
	if MulanHP == 40 then --Ping
		for i = 0,5 do
			if ReadByte(Save+0x2AAD+2*i)&0x80 == 0x80 then
				BitNot(Save+0x2AAD+2*i,0x80)
				BitOr(Save+0x1CF1,2^i)
			end
		end
	end
end
--Tron's Abilities
if Place == 0x1A04 and Btl == 12 then
	for i = 0,5 do
		if ReadByte(Save+0x1CF1)&2^i == 2^i then
			BitOr(Save+0x3127+2*i,0x80)
			BitNot(Save+0x1CF1,2^i)
		end
	end
elseif World == 0x11 then
	local TronHP = ReadByte(Save+0x30D1)
	if TronHP == 65 then --Before Dataspace Monitors
		for i = 0,5 do
			if ReadByte(Save+0x3127+2*i)&0x80 == 0x80 then
				BitNot(Save+0x3127+2*i,0x80)
				BitOr(Save+0x1CF1,2^i)
			end
		end
	elseif TronHP == 75 or Events(0x38,0x38,0x38) then --Before Hallway Heartless
		for i = 4,5 do
			if ReadByte(Save+0x3127+2*i)&0x80 == 0x80 then
				BitNot(Save+0x3127+2*i,0x80)
				BitOr(Save+0x1CF1,2^i)
			end
		end
	end
end
end

function Return()
if World == 0x02 then --Twilight Town
	if Room == 0x03 and Events(0x49,0x49,0x49) then --Back Alley Nobodies
		Spawn('Short',0x16,0x172,0x04) --Clear
		Spawn('Short',0x16,0x174,0x1A)
		Spawn('Short',0x16,0x176,0x1D)
		Spawn('Short',0x16,0x1A2,0x04) --Fail
		Spawn('Short',0x16,0x1A4,0x1A)
		Spawn('Short',0x16,0x1A6,0x1D)
		WriteShort(Sve+2,0x1D)
		WriteShort(Save+0x24F0,ReadShort(Save+0x1CF9)) --Change Equipped Keyblade
	elseif Room == 0x04 then
		if Events(0x4E,0x4E,0x4E) then --Seifer (Tutorial)
			Spawn('Short',0x22,0x2A8,0x01) --Clear
			Spawn('Short',0x22,0x2AA,0x04)
			Spawn('Short',0x22,0x2AC,0x1A)
			Spawn('Short',0x22,0x2AE,0x20)
			Spawn('Short',0x22,0x2B0,0x00)
			Spawn('Short',0x22,0x2D4,0x01) --Fail
			Spawn('Short',0x22,0x2D6,0x04)
			Spawn('Short',0x22,0x2D8,0x1A)
			Spawn('Short',0x22,0x2DA,0x20)
			Spawn('Short',0x22,0x2DC,0x00)
			WriteShort(Sve+2,0x20)
		elseif Events(0x50,0x50,0x50) then --Sandlot Nobodies II
			Spawn('Short',0x22,0x3B6,0x04)
			Spawn('Short',0x22,0x3B8,0x1A)
			Spawn('Short',0x22,0x3BA,0x16)
			WriteShort(Sve+2,0x16)
		elseif Events(0xB6,0xB6,0xB6) then --Hayner
			Spawn('Short',0x22,0x586,0x04)
			Spawn('Short',0x22,0x588,0x1A)
			Spawn('Short',0x22,0x58A,0x1B)
			WriteShort(Sve+2,0x1B)
		elseif Events(0xB7,0xB7,0xB7) then --Setzer
			Spawn('Short',0x22,0x616,0x04)
			Spawn('Short',0x22,0x618,0x1A)
			Spawn('Short',0x22,0x61A,0x1D)
			WriteShort(Sve+2,0x1D)
		elseif Events(0xB8,0xB8,0xB8) then --Seifer
			Spawn('Short',0x22,0x6D2,0x04)
			Spawn('Short',0x22,0x6D4,0x1A)
			Spawn('Short',0x22,0x6D6,0x1F)
			WriteShort(Sve+2,0x1F)
		end
	elseif Room == 0x05 then
		if Events(0x54,0x54,0x54) then --Hayner
			Spawn('Short',0x13,0x61A,0x04) --Fail
			Spawn('Short',0x13,0x61C,0x1A)
			Spawn('Short',0x13,0x61E,0x18)
			Spawn('Short',0x13,0x646,0x04) --Clear
			Spawn('Short',0x13,0x648,0x1A)
			Spawn('Short',0x13,0x64A,0x18)
			WriteShort(Sve+2,0x18)
		elseif Events(0x55,0x55,0x55) then --Vivi
			Spawn('Short',0x13,0x052,0x04) --Fail
			Spawn('Short',0x13,0x054,0x1A)
			Spawn('Short',0x13,0x056,0x16)
			Spawn('Short',0x13,0x07C,0x01) --Clear
			Spawn('Short',0x13,0x07E,0x04)
			Spawn('Short',0x13,0x080,0x1A)
			Spawn('Short',0x13,0x082,0x16)
			Spawn('Short',0x13,0x084,0x00)
			WriteShort(Sve+2,0x16)
		elseif Events(0x56,0x56,0x56) then --Sandlot Nobodies I
			Spawn('Short',0x13,0x0EC,0x01)
			Spawn('Short',0x13,0x0EE,0x04)
			Spawn('Short',0x13,0x0F0,0x1A)
			Spawn('Short',0x13,0x0F2,0x15)
			Spawn('Short',0x13,0x0F4,0x00)
			WriteShort(Sve+2,0x15)
			WriteShort(Save+0x24F0,ReadShort(Save+0x1CF9)) --Change Equipped Keyblade
		elseif Events(0x57,0x57,0x57) then --Axel I
			Spawn('Short',0x13,0x162,0x04)
			Spawn('Short',0x13,0x164,0x1A)
			Spawn('Short',0x13,0x166,0x17)
			WriteShort(Sve+2,0x17)
		end
	elseif Room == 0x08 and Events(0x6C,0x6C,0x6C) then --Station Plaza Nobodies
		Spawn('Short',0x0F,0x600,0x01)
		Spawn('Short',0x0F,0x602,0x04)
		Spawn('Short',0x0F,0x604,0x1A)
		Spawn('Short',0x0F,0x606,0x1E)
		Spawn('Short',0x0F,0x608,0x00)
		WriteShort(Sve+2,0x1E)
	elseif Room == 0x0A and Events(0x79,0x79,0x79) then --Shadow Roxas
		Spawn('Short',0x14,0x20A,0x04) --Clear
		Spawn('Short',0x14,0x20C,0x1A)
		Spawn('Short',0x14,0x20E,0x1B)
		Spawn('Short',0x14,0x22E,0x04) --Fail
		Spawn('Short',0x14,0x230,0x1A)
		Spawn('Short',0x14,0x232,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x0E and Events(0x80,0x80,0x80) then --The Old Mansion Dusk
		Spawn('Short',0x15,0x210,0x01)
		Spawn('Short',0x15,0x212,0x04)
		Spawn('Short',0x15,0x214,0x1A)
		Spawn('Short',0x15,0x216,0x1E)
		Spawn('Short',0x15,0x218,0x00)
		WriteShort(Sve+2,0x1E)
		WriteShort(Save+0x24F0,ReadShort(Save+0x1CF9)) --Change Equipped Keyblade
	elseif Room == 0x13 and Events(0x86,0x86,0x86) then --Basement Hall Nobodies
		Spawn('Short',0x0D,0x200,0x01)
		Spawn('Short',0x0D,0x202,0x04)
		Spawn('Short',0x0D,0x204,0x1A)
		Spawn('Short',0x0D,0x206,0x1F)
		Spawn('Short',0x0D,0x208,0x00)
		WriteShort(Sve+2,0x1F)
	elseif Room == 0x14 then
		if Events(0x89,0x89,0x89) then --Axel II
			Spawn('Short',0x06,0x094,0x01)
			Spawn('Short',0x06,0x096,0x04)
			Spawn('Short',0x06,0x098,0x1A)
			Spawn('Short',0x06,0x09A,0x21)
			Spawn('Short',0x06,0x09C,0x00)
			WriteShort(Sve+2,0x21)
		elseif Events(0xD5,0xD5,0xD5) then --Data Axel
			Spawn('Short',0x06,0x060,0x01)
			Spawn('Short',0x06,0x062,0x04)
			Spawn('Short',0x06,0x064,0x1A)
			Spawn('Short',0x06,0x066,0x01)
			Spawn('Short',0x06,0x068,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x19 and Events(0x95,0x95,0x95) then --The Tower Heartless
		Spawn('Short',0x11,0x02A,0x04) --Clear
		Spawn('Short',0x11,0x02C,0x1A)
		Spawn('Short',0x11,0x02E,0x1C)
		Spawn('Short',0x11,0x056,0x04) --Fail
		Spawn('Short',0x11,0x058,0x1A)
		Spawn('Short',0x11,0x05A,0x1C)
		WriteShort(Sve+2,0x1C)
	elseif Room == 0x1D and Events(0x98,0x98,0x98) then --Star Chamber Heartless
		Spawn('Short',0x0D,0x05A,0x04)
		Spawn('Short',0x0D,0x05C,0x1A)
		Spawn('Short',0x0D,0x05E,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x1E and Events(0x99,0x99,0x99) then --Moon Chamber Heartless
		Spawn('Short',0x0D,0x02A,0x04)
		Spawn('Short',0x0D,0x02C,0x1A)
		Spawn('Short',0x0D,0x02E,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x20 and Events(0x9A,0x9A,0x9A) then --Station of Serenity Nobodies
		Spawn('Short',0x0A,0x178,0x01)
		Spawn('Short',0x0A,0x17A,0x04)
		Spawn('Short',0x0A,0x17C,0x1A)
		Spawn('Short',0x0A,0x17E,0x1C)
		Spawn('Short',0x0A,0x180,0x00)
		WriteShort(Sve+2,0x1C)
		WriteShort(Save+0x24F0,ReadShort(Save+0x1CF9)) --Change Equipped Keyblade
	elseif Room == 0x22 and Events(0x9D,0x9D,0x9D) then --Twilight Thorn
		Spawn('Short',0x05,0x0D0,0x01)
		Spawn('Short',0x05,0x0D2,0x04)
		Spawn('Short',0x05,0x0D4,0x1A)
		Spawn('Short',0x05,0x0D6,0x1A)
		Spawn('Short',0x05,0x0D8,0x00)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x24 and Events(0x9F,0x9F,0x9F) then --Vivi Clones
		Spawn('Short',0x12,0x0FE,0x04) --Clear
		Spawn('Short',0x12,0x100,0x1A)
		Spawn('Short',0x12,0x102,0x19)
		Spawn('Short',0x12,0x122,0x04) --Fail
		Spawn('Short',0x12,0x124,0x1A)
		Spawn('Short',0x12,0x126,0x19)
		WriteShort(Sve+2,0x19)
	elseif Room == 0x28 then
		if Events(0xA0,0xA0,0xA0) then --Betwixt & Between Nobodies I
			Spawn('Short',0x08,0x090,0x01)
			Spawn('Short',0x08,0x092,0x04)
			Spawn('Short',0x08,0x094,0x1A)
			Spawn('Short',0x08,0x096,0x17)
			Spawn('Short',0x08,0x098,0x00)
			WriteShort(Sve+2,0x17)
		elseif Events(0xA1,0xA1,0xA1) then --Betwixt & Between Nobodies II
			Spawn('Short',0x08,0x106,0x04)
			Spawn('Short',0x08,0x108,0x1A)
			Spawn('Short',0x08,0x10A,0x19)
			WriteShort(Sve+2,0x19)
		end
	elseif Room == 0x29 and Events(0xBA,0xBA,0xBA) then --The Old Mansion Nobodies
		Spawn('Short',0x06,0x01E,0x04)
		Spawn('Short',0x06,0x020,0x1A)
		Spawn('Short',0x06,0x022,0x15)
		WriteShort(Sve+2,0x15)
	end
elseif World == 0x04 then --Hollow Bastion
	if Room == 0x01 and Events(0x4B,0x4B,0x4B) then --Sephiroth
		Spawn('Short',0x09,0x2E2,0x04)
		Spawn('Short',0x09,0x2E4,0x1A)
		Spawn('Short',0x09,0x2E6,0x21)
		WriteShort(Sve+2,0x21)
	elseif Room == 0x04 then
		if Events(0x37,0x37,0x37) then --Demyx
			Spawn('Short',0x0A,0x148,0x01)
			Spawn('Short',0x0A,0x14A,0x04)
			Spawn('Short',0x0A,0x14C,0x1A)
			Spawn('Short',0x0A,0x14E,0x16)
			Spawn('Short',0x0A,0x150,0x00)
			WriteShort(Sve+2,0x16)
			Spawn('Short',0x0A,0x156,0x01) --Don't Remove Goofy's Abilities
		elseif Events(0x72,0x72,0x72) then --Data Demyx
			Spawn('Short',0x0A,0x174,0x01)
			Spawn('Short',0x0A,0x176,0x04)
			Spawn('Short',0x0A,0x178,0x1A)
			Spawn('Short',0x0A,0x17A,0x01)
			Spawn('Short',0x0A,0x17C,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x08 and Events(0x34,0x34,0x34) then --Bailey Nobodies
		Spawn('Short',0x0E,0x1B4,0x01)
		Spawn('Short',0x0E,0x1B6,0x04)
		Spawn('Short',0x0E,0x1B8,0x1A)
		Spawn('Short',0x0E,0x1BA,0x1E)
		Spawn('Short',0x0E,0x1BC,0x00)
		WriteShort(Sve+2,0x1E)
	elseif Room == 0x09 then
		if Events(0x33,0x33,0x33) then --Borough Nobodies
			Spawn('Short',0x1B,0x36A,0x04) --Clear
			Spawn('Short',0x1B,0x36C,0x1A)
			Spawn('Short',0x1B,0x36E,0x20)
			Spawn('Short',0x1B,0x39E,0x04) --Fail
			Spawn('Short',0x1B,0x3A0,0x1A)
			Spawn('Short',0x1B,0x3A2,0x20)
			WriteShort(Sve+2,0x20)
		elseif Events(0x3A,0x3A,0x3A) then --Borough Heartless I
			Spawn('Short',0x1B,0x13A,0x04) --Clear
			Spawn('Short',0x1B,0x13C,0x1A)
			Spawn('Short',0x1B,0x13E,0x1C)
			Spawn('Short',0x1B,0x166,0x04) --Fail
			Spawn('Short',0x1B,0x168,0x1A)
			Spawn('Short',0x1B,0x16A,0x1C)
			WriteShort(Sve+2,0x1C)
		elseif Events(0x48,0x48,0x48) then --Borough Heartless II
			Spawn('Short',0x1B,0x4D2,0x04) --Clear
			Spawn('Short',0x1B,0x4D4,0x1A)
			Spawn('Short',0x1B,0x4D6,0x1F)
			Spawn('Short',0x1B,0x4FE,0x04) --Fail
			Spawn('Short',0x1B,0x500,0x1A)
			Spawn('Short',0x1B,0x502,0x1F)
			WriteShort(Sve+2,0x1F)
		end
	elseif Room == 0x10 then
		if Events(0x3E,0x3E,0x3E) then --Ravine Trail Heartless I
			Spawn('Short',0x11,0x21C,0x01)
			Spawn('Short',0x11,0x21E,0x04)
			Spawn('Short',0x11,0x220,0x1A)
			Spawn('Short',0x11,0x222,0x15)
			Spawn('Short',0x11,0x224,0x00)
			WriteShort(Sve+2,0x15)
		elseif Events(0x3F,0x3F,0x3F) then --Ravine Trail Heartless II
			Spawn('Short',0x11,0x2A8,0x01)
			Spawn('Short',0x11,0x2AA,0x04)
			Spawn('Short',0x11,0x2AC,0x1A)
			Spawn('Short',0x11,0x2AE,0x17)
			Spawn('Short',0x11,0x2B0,0x00)
			WriteShort(Sve+2,0x17)
		elseif Events(0x40,0x40,0x40) then --Ravine Trail Heartless III
			Spawn('Short',0x11,0x304,0x01)
			Spawn('Short',0x11,0x306,0x04)
			Spawn('Short',0x11,0x308,0x1A)
			Spawn('Short',0x11,0x30A,0x19)
			Spawn('Short',0x11,0x30C,0x00)
			WriteShort(Sve+2,0x19)
		elseif Events(0x41,0x41,0x41) then --Ravine Trail Heartless IV
			Spawn('Short',0x11,0x332,0x04)
			Spawn('Short',0x11,0x334,0x1A)
			Spawn('Short',0x11,0x336,0x1B)
			WriteShort(Sve+2,0x1B)
		end
	elseif Room == 0x11 and Events(0x42,0x42,0x42) then --1000 Heartless
		Spawn('Short',0x06,0x022,0x04)
		Spawn('Short',0x06,0x024,0x1A)
		Spawn('Short',0x06,0x026,0x1D)
		WriteShort(Sve+2,0x1D)
	elseif Room == 0x12 and Events(0x49,0x49,0x49) then --Restoration Site Nobodies
		Spawn('Short',0x11,0x196,0x04)
		Spawn('Short',0x11,0x198,0x1A)
		Spawn('Short',0x11,0x19A,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x14 and Events(0x56,0x56,0x56) then --Corridors Fight
		Spawn('Short',0x06,0x022,0x04)
		Spawn('Short',0x06,0x024,0x1A)
		Spawn('Short',0x06,0x026,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x16 then --Mining Area Valves
		Spawn('Short',0x03,0x024,0x011A) --Exit
		Spawn('Short',0x04,0x024,0x011A)
		Spawn('Short',0x05,0x024,0x011A)
		BitNot(Save+0x1D25,0x02) --HB_FM_712_END
	elseif Room == 0x18 then
		if Events(0x02,0x01,0x01) then --Mineshaft Heartless I
			Spawn('Short',0x12,0x02A,0x04)
			Spawn('Short',0x12,0x02C,0x1A)
			Spawn('Short',0x12,0x02E,0x18)
			Spawn('Short',0x03,0x024,0x181A) --Exit
			Spawn('Short',0x04,0x024,0x181A)
			Spawn('Short',0x05,0x024,0x181A)
			--Softlock Prevention
			Spawn('Short',0x09,0x024,0x0018) --Door to Transport to Remembrance -> Mineshaft
			Spawn('Short',0x09,0x026,0) --Approachable from All Sides
			Spawn('Float',0x09,0x03C,5000)  --Position Y
			Spawn('Float',0x09,0x044,10000) --Scale X
			Spawn('Float',0x09,0x04C,10000) --Scale Z
		elseif Events(0x03,0x02,0x02) then --Mineshaft Heartless II
			Spawn('Short',0x12,0x066,0x04)
			Spawn('Short',0x12,0x068,0x1A)
			Spawn('Short',0x12,0x06A,0x16)
			Spawn('Short',0x03,0x024,0x161A) --Exit
			Spawn('Short',0x04,0x024,0x161A)
			Spawn('Short',0x05,0x024,0x161A)
			Spawn('Short',0x06,0x024,0x161A)
			Spawn('Short',0x07,0x024,0x161A)
		end
	elseif Room == 0x19 then
		if Events(0x00,0x01,0x01) then --Transport to Remembrance Nobodies I
			Spawn('Short',0x0B,0x02A,0x04)
			Spawn('Short',0x0B,0x02C,0x1A)
			Spawn('Short',0x0B,0x02E,0x15)
			Spawn('Short',0x03,0x024,0x151A) --Exit
		elseif Events(0x00,0x02,0x02) then --Transport to Remembrance Nobodies II
			Spawn('Short',0x0B,0x066,0x04)
			Spawn('Short',0x0B,0x068,0x1A)
			Spawn('Short',0x0B,0x06A,0x17)
			Spawn('Short',0x03,0x024,0x171A) --Exit
		elseif Events(0x00,0x03,0x03) then --Transport to Remembrance Nobodies III
			Spawn('Short',0x0B,0x0AA,0x04)
			Spawn('Short',0x0B,0x0AC,0x1A)
			Spawn('Short',0x0B,0x0AE,0x19)
			Spawn('Short',0x03,0x024,0x191A) --Exit
		end
	elseif Room == 0x20 then
		if Events(0x73,0x73,0x73) then --Vexen
			Spawn('Short',0x06,0x0D0,0x01)
			Spawn('Short',0x06,0x0D2,0x04)
			Spawn('Short',0x06,0x0D4,0x1A)
			Spawn('Short',0x06,0x0D6,0x1D)
			Spawn('Short',0x06,0x0D8,0x00)
			WriteShort(Sve+2,0x1D)
		elseif Events(0x92,0x92,0x92) then --Data Vexen
			Spawn('Short',0x06,0x144,0x01)
			Spawn('Short',0x06,0x146,0x04)
			Spawn('Short',0x06,0x148,0x1A)
			Spawn('Short',0x06,0x14A,0x01)
			Spawn('Short',0x06,0x14C,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x21 then
		if Events(0x8E,0x8E,0x8E) then --Lexaeus
			Spawn('Short',0x0A,0x0B8,0x01)
			Spawn('Short',0x0A,0x0BA,0x04)
			Spawn('Short',0x0A,0x0BC,0x1A)
			Spawn('Short',0x0A,0x0BE,0x1D)
			Spawn('Short',0x0A,0x0C0,0x00)
			WriteShort(Sve+2,0x1D)
		elseif Events(0x8F,0x8F,0x8F) then --Larxene
			Spawn('Short',0x0A,0x35C,0x01)
			Spawn('Short',0x0A,0x35E,0x04)
			Spawn('Short',0x0A,0x360,0x1A)
			Spawn('Short',0x0A,0x362,0x1F)
			Spawn('Short',0x0A,0x364,0x00)
			WriteShort(Sve+2,0x1F)
		elseif Events(0x93,0x93,0x93) then --Data Lexaeus
			Spawn('Short',0x0A,0x218,0x01)
			Spawn('Short',0x0A,0x21A,0x04)
			Spawn('Short',0x0A,0x21C,0x1A)
			Spawn('Short',0x0A,0x21E,0x01)
			Spawn('Short',0x0A,0x220,0x00)
			WriteShort(Sve+2,0x01)
		elseif Events(0x94,0x94,0x94) then --Data Larxene
			Spawn('Short',0x0A,0x08C,0x01)
			Spawn('Short',0x0A,0x08E,0x04)
			Spawn('Short',0x0A,0x090,0x1A)
			Spawn('Short',0x0A,0x092,0x01)
			Spawn('Short',0x0A,0x094,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x22 then
		if Events(0x97,0x97,0x97) then --Zexion
			Spawn('Short',0x06,0x01C,0x01)
			Spawn('Short',0x06,0x01E,0x04)
			Spawn('Short',0x06,0x020,0x1A)
			Spawn('Short',0x06,0x022,0x1D)
			Spawn('Short',0x06,0x024,0x00)
			WriteShort(Sve+2,0x1D)
		elseif Events(0x98,0x98,0x98) then --Data Zexion
			Spawn('Short',0x06,0x048,0x01)
			Spawn('Short',0x06,0x04A,0x04)
			Spawn('Short',0x06,0x04C,0x1A)
			Spawn('Short',0x06,0x04E,0x01)
			Spawn('Short',0x06,0x050,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x26 then
		if Events(0x91,0x91,0x91) then --Marluxia
			Spawn('Short',0x06,0x144,0x01)
			Spawn('Short',0x06,0x146,0x04)
			Spawn('Short',0x06,0x148,0x1A)
			Spawn('Short',0x06,0x14A,0x1F)
			Spawn('Short',0x06,0x14C,0x00)
			WriteShort(Sve+2,0x1F)
		elseif Events(0x96,0x96,0x96) then --Data Marluxia 
			Spawn('Short',0x06,0x0E0,0x01)
			Spawn('Short',0x06,0x0E2,0x04)
			Spawn('Short',0x06,0x0E4,0x1A)
			Spawn('Short',0x06,0x0E6,0x01)
			Spawn('Short',0x06,0x0E8,0x00)
			WriteShort(Sve+2,0x01)
		end
	end
elseif World == 0x05 then --Beast's Castle
	if Room == 0x00 and Events(0x4B,0x4B,0x4B) then --Entrance Hall Nobodies
		Spawn('Short',0x18,0x316,0x04)
		Spawn('Short',0x18,0x318,0x1A)
		Spawn('Short',0x18,0x31A,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x01 and Events(0x44,0x44,0x44) then --Parlor Heartless
		Spawn('Short',0x08,0x1DE,0x04)
		Spawn('Short',0x08,0x1E0,0x1A)
		Spawn('Short',0x08,0x1E2,0x1C)
		WriteShort(Sve+2,0x1C)
	elseif Room == 0x03 and Events(0x45,0x45,0x45) then --Beast
		Spawn('Short',0x0F,0x242,0x04)
		Spawn('Short',0x0F,0x244,0x1A)
		Spawn('Short',0x0F,0x246,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x04 and Events(0x4A,0x4A,0x4A) then --Ballroom Nobodies
		Spawn('Short',0x0C,0x196,0x04)
		Spawn('Short',0x0C,0x198,0x1A)
		Spawn('Short',0x0C,0x19A,0x19)
		WriteShort(Sve+2,0x19)
	elseif Room == 0x05 then
		if Events(0x4E,0x4E,0x4E) then --Shadow Stalker
			Spawn('Short',0x0C,0x060,0x01)
			Spawn('Short',0x0C,0x062,0x04)
			Spawn('Short',0x0C,0x064,0x1A)
			Spawn('Short',0x0C,0x066,0x15)
			Spawn('Short',0x0C,0x068,0x00)
			WriteShort(Sve+2,0x15)
		elseif Events(0x4F,0x4F,0x4F) then --Dark Thorn
			Spawn('Short',0x0C,0x09E,0x04)
			Spawn('Short',0x0C,0x0A0,0x1A)
			Spawn('Short',0x0C,0x0A2,0x17)
			WriteShort(Sve+2,0x17)
		end
	elseif Room == 0x0B then
		if Events(0x48,0x48,0x48) then --Thresholder
			Spawn('Short',0x13,0x0B2,0x04)
			Spawn('Short',0x13,0x0B4,0x1A)
			Spawn('Short',0x13,0x0B6,0x1A)
			WriteShort(Sve+2,0x1A)
		elseif PrevPlace == 0x0C05 then --Secret Passage Lanterns
			Warp(0x04,0x1A,0x18,0x02,0x03,0x02)
		end
	elseif Room == 0x0C and Events(0x02,0x16,0x02) then --Secret Passage Lanterns
		Spawn('Short',0x14,0x072,0x04)
		Spawn('Short',0x14,0x074,0x1A)
		Spawn('Short',0x14,0x076,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x0F then
		if Events(0x52,0x52,0x52) then --Xaldin
			Spawn('Short',0x07,0x052,0x04)
			Spawn('Short',0x07,0x054,0x1A)
			Spawn('Short',0x07,0x056,0x1D)
			WriteShort(Sve+2,0x1D)
		elseif Events(0x61,0x61,0x61) then --Data Xaldin
			Spawn('Short',0x07,0x01C,0x01)
			Spawn('Short',0x07,0x01E,0x04)
			Spawn('Short',0x07,0x020,0x1A)
			Spawn('Short',0x07,0x022,0x01)
			Spawn('Short',0x07,0x024,0x00)
			WriteShort(Sve+2,0x01)
		end
	end
elseif World == 0x06 then --Olympus Coliseum
	if Room == 0x00 and Events(0x8D,0x8D,0x8D) then --Phil's Training (Maniac)
		Spawn('Short',0x11,0x2B2,0x04) --Clear
		Spawn('Short',0x11,0x2B4,0x1A)
		Spawn('Short',0x11,0x2B6,0x1C)
		Spawn('Short',0x11,0x2D6,0x04) --Fail
		Spawn('Short',0x11,0x2D8,0x1A)
		Spawn('Short',0x11,0x2DA,0x1C)
		Spawn('Short',0x11,0x316,0x04) --Quit
		Spawn('Short',0x11,0x318,0x1A)
		Spawn('Short',0x11,0x31A,0x1C)
		WriteShort(Sve+2,0x1C)
	elseif Room == 0x05 and Events(0x6F,0x6F,0x6F) then --Hades Escape
		Spawn('Short',0x0F,0x0EA,0x04)
		Spawn('Short',0x0F,0x0EC,0x1A)
		Spawn('Short',0x0F,0x0EE,0x20)
		WriteShort(Sve+2,0x20)
	elseif Room == 0x06 and Events(0x7E,0x7E,0x7E) then --Hades' Chamber Nobodies
		Spawn('Short',0x09,0x26E,0x04)
		Spawn('Short',0x09,0x270,0x1A)
		Spawn('Short',0x09,0x272,0x19)
		WriteShort(Sve+2,0x19)
	elseif Room == 0x07 and Events(0x72,0x72,0x72) then --Cerberus
		Spawn('Short',0x12,0x14A,0x04)
		Spawn('Short',0x12,0x14C,0x1A)
		Spawn('Short',0x12,0x14E,0x1E)
		WriteShort(Sve+2,0x1E)
	elseif Room == 0x08 and Events(0x74,0x74,0x74) then --Pete I
		Spawn('Short',0x08,0x0BE,0x04)
		Spawn('Short',0x08,0x0C0,0x1A)
		Spawn('Short',0x08,0x0C2,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x09 then
		if Events(0x7C,0x7C,0x7C) then --Underdrome Heartless I
			Spawn('Short',0x85,0x1DE,0x04)
			Spawn('Short',0x85,0x1E0,0x1A)
			Spawn('Short',0x85,0x1E2,0x15)
			WriteShort(Sve+2,0x15)
		elseif Events(0x7D,0x7D,0x7D) then --Underdrome Heartless II
			Spawn('Short',0x85,0x2C2,0x04)
			Spawn('Short',0x85,0x2C4,0x1A)
			Spawn('Short',0x85,0x2C6,0x17)
			WriteShort(Sve+2,0x17)
		end
	elseif Room == 0x11 and Events(0x7B,0x7B,0x7B) then --Demyx I
		Spawn('Short',0x10,0x03E,0x04)
		Spawn('Short',0x10,0x040,0x1A)
		Spawn('Short',0x10,0x042,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x12 and Events(0xAB,0xAB,0xAB) then --Hydra
		Spawn('Short',0x05,0x060,0x01)
		Spawn('Short',0x05,0x062,0x04)
		Spawn('Short',0x05,0x064,0x1A)
		Spawn('Short',0x05,0x066,0x16)
		Spawn('Short',0x05,0x068,0x00)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x13 and Events(0xCA,0xCA,0xCA) then --Hades
		Spawn('Short',0x06,0x04C,0x01)
		Spawn('Short',0x06,0x04E,0x04)
		Spawn('Short',0x06,0x050,0x1A)
		Spawn('Short',0x06,0x052,0x1B)
		Spawn('Short',0x06,0x054,0x00)
		WriteShort(Sve+2,0x1B)
	elseif Place ~= PrevPlace then
		if PrevPlace == 0x0306 then --Cups
			Warp(0x04,0x1A,0x1F,0x02,0x06,0x02)
		elseif PrevPlace == 0x0606 then --Paradox Cups
			Warp(0x04,0x1A,0x21,0x02,0x06,0x02)
		end
	end
elseif World == 0x07 then --Agrabah
	if Room == 0x00 and Events(0x39,0x39,0x39) then --Agrabah Heartless
		Spawn('Short',0x1A,0x142,0x04)
		Spawn('Short',0x1A,0x144,0x1A)
		Spawn('Short',0x1A,0x146,0x1E)
		WriteShort(Sve+2,0x1E)
	elseif Room == 0x03 and Events(0x3B,0x3B,0x3B) then --Volcanic Lord & Blizzard Lord
		Spawn('Short',0x0B,0x05A,0x04)
		Spawn('Short',0x0B,0x05C,0x1A)
		Spawn('Short',0x0B,0x05E,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x05 and Events(0x3E,0x3E,0x3E) then --Genie Jafar
		Spawn('Short',0x07,0x026,0x04)
		Spawn('Short',0x07,0x028,0x1A)
		Spawn('Short',0x07,0x02A,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x09 and Events(0x02,0x02,0x02) then --Abu Escort
		Spawn('Short',0x0D,0x0D6,0x04)
		Spawn('Short',0x0D,0x0D8,0x1A)
		Spawn('Short',0x0D,0x0DA,0x1C)
		WriteShort(Sve+2,0x1C)
	elseif Room == 0x0A and Events(0x3A,0x3A,0x3A) then --Treasure Room Heartless
		Spawn('Short',0x0C,0x0B6,0x04)
		Spawn('Short',0x0C,0x0B8,0x1A)
		Spawn('Short',0x0C,0x0BA,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x0D and Events(0x4F,0x4F,0x4F) then --Chasm of Challenges Heartless
		Spawn('Short',0x15,0x1DA,0x04)
		Spawn('Short',0x15,0x1DC,0x1A)
		Spawn('Short',0x15,0x1DE,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x0E then
		if Events(0x3D,0x3D,0x3D) then --Magic Carpet
			Spawn('Short',0x1C,0x3A6,0x04)
			Spawn('Short',0x1C,0x3A8,0x1A)
			Spawn('Short',0x1C,0x3AA,0x19)
			WriteShort(Sve+2,0x19)
		elseif Events(0x56,0x56,0x56) then --Sandswept Ruins Heartless I
			Spawn('Short',0x1C,0x5BE,0x04)
			Spawn('Short',0x1C,0x5C0,0x1A)
			Spawn('Short',0x1C,0x5C2,0x15)
			WriteShort(Sve+2,0x15)
		elseif Events(0x57,0x57,0x57) then --Sandswept Ruins Heartless II
			Spawn('Short',0x1C,0x636,0x04)
			Spawn('Short',0x1C,0x638,0x1A)
			Spawn('Short',0x1C,0x63A,0x17)
			WriteShort(Sve+2,0x17)
		end
	end
elseif World == 0x08 then --Land of Dragons
	if Room == 0x01 then
		if Events(0x44,0x44,0x44) then --Encampment Heartless
			Spawn('Short',0x19,0x20A,0x04)
			Spawn('Short',0x19,0x20C,0x1A)
			Spawn('Short',0x19,0x20E,0x20)
			WriteShort(Sve+2,0x20)
		elseif Events(0x46,0x46,0x46) then --Mission 3
			Spawn('Short',0x19,0x176,0x04)
			Spawn('Short',0x19,0x178,0x1A)
			Spawn('Short',0x19,0x17A,0x1A)
			WriteShort(Sve+2,0x1A)
		end
	elseif Room == 0x02 then
		if Events(0x45,0x45,0x45) then --Mission 1
			Spawn('Short',0x14,0x0A6,0x04)
			Spawn('Short',0x14,0x0A8,0x1A)
			Spawn('Short',0x14,0x0AA,0x1E)
			WriteShort(Sve+2,0x1E)
		elseif Events(0x50,0x50,0x50) then --Mission 2
			Spawn('Short',0x14,0x0D6,0x04)
			Spawn('Short',0x14,0x0D8,0x1A)
			Spawn('Short',0x14,0x0DA,0x1C)
			WriteShort(Sve+2,0x1C)
		end
	elseif Room == 0x03 and Events(0x47,0x47,0x47) then --Mountain Trail Run
		Spawn('Short',0x0F,0x076,0x04)
		Spawn('Short',0x0F,0x078,0x1A)
		Spawn('Short',0x0F,0x07A,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x05 and Events(0x48,0x48,0x48) then --Village Cave Heartless
		Spawn('Short',0x0C,0x082,0x04)
		Spawn('Short',0x0C,0x084,0x1A)
		Spawn('Short',0x0C,0x086,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x07 and Events(0x4C,0x4C,0x4C) then --Riku
		Spawn('Short',0x12,0x05E,0x04)
		Spawn('Short',0x12,0x060,0x1A)
		Spawn('Short',0x12,0x062,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x08 then
		if Events(0x4A,0x4A,0x4A) then --Imperial Square Heartless I
			Spawn('Short',0x0E,0x282,0x04)
			Spawn('Short',0x0E,0x284,0x1A)
			Spawn('Short',0x0E,0x286,0x15)
			WriteShort(Sve+2,0x15)
		elseif Events(0x4F,0x4F,0x4F) then --Storm Rider
			Spawn('Short',0x0E,0x23A,0x04)
			Spawn('Short',0x0E,0x23C,0x1A)
			Spawn('Short',0x0E,0x23E,0x21)
			WriteShort(Sve+2,0x21)
		elseif Events(0x51,0x51,0x51) then --Imperial Square Heartless II
			Spawn('Short',0x0E,0x126,0x04)
			Spawn('Short',0x0E,0x128,0x1A)
			Spawn('Short',0x0E,0x12A,0x1D)
			WriteShort(Sve+2,0x1D)
		elseif PrevPlace == 0x0908 then --Shan Yu Skip
			Warp(0x04,0x1A,0x17,0x02,0x02,0x02)
		end
	elseif Room == 0x09 then
		if Events(0x00,0x00,0x01) then --Shan Yu Skip
			Spawn('Short',0x0A,0x0B8,0x01)
			Spawn('Short',0x0A,0x0BA,0x04)
			Spawn('Short',0x0A,0x0BC,0x1A)
			Spawn('Short',0x0A,0x0BE,0x17)
			Spawn('Short',0x0A,0x0C0,0x00)
		elseif Events(0x4B,0x4B,0x4B) then --Shan Yu
			Spawn('Short',0x0A,0x180,0x01)
			Spawn('Short',0x0A,0x182,0x04)
			Spawn('Short',0x0A,0x184,0x1A)
			Spawn('Short',0x0A,0x186,0x19)
			Spawn('Short',0x0A,0x188,0x00)
			WriteShort(Sve+2,0x19)
		end
	elseif Room == 0x0A then --Antechamber Nobodies
		if Events(0x4E,0x4E,0x4E) then
			Spawn('Short',0x0A,0x18A,0x04)
			Spawn('Short',0x0A,0x18C,0x1A)
			Spawn('Short',0x0A,0x18E,0x1F)
			WriteShort(Sve+2,0x1F)
		elseif PrevPlace == 0x0908 then --Shan Yu Skip
			Warp(0x04,0x1A,0x17,0x02,0x02,0x02)
		end
	end
elseif World == 0x0A then --Pride Lands
	if Room == 0x02 and Events(0x33,0x33,0x33) then --Hyenas I
		Spawn('Short',0x08,0x122,0x04)
		Spawn('Short',0x08,0x124,0x1A)
		Spawn('Short',0x08,0x126,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x05 then
		if Events(0x38,0x38,0x38) then --Elephant Graveyard Heartless
			Spawn('Short',0x10,0x186,0x04)
			Spawn('Short',0x10,0x188,0x1A)
			Spawn('Short',0x10,0x18A,0x18)
			WriteShort(Sve+2,0x18)
		elseif Events(0x39,0x39,0x39) then --Hyenas II
			Spawn('Short',0x10,0x1E6,0x04)
			Spawn('Short',0x10,0x1E8,0x1A)
			Spawn('Short',0x10,0x1EA,0x17)
			WriteShort(Sve+2,0x17)
			if Buttons() == 'Hyena' then
				WriteByte(BtlEnd,0x04)
				WriteByte(CutSkp,0x01)
			end
		end
	elseif Room == 0x0E and Events(0x37,0x37,0x37) then --Scar
		Spawn('Short',0x05,0x02A,0x04)
		Spawn('Short',0x05,0x02C,0x1A)
		Spawn('Short',0x05,0x02E,0x15)
		WriteShort(Sve+2,0x15)
	elseif Room == 0x0F and Events(0x3B,0x3B,0x3B) then --Groundshaker
		Spawn('Short',0x05,0x026,0x04)
		Spawn('Short',0x05,0x028,0x1A)
		Spawn('Short',0x05,0x02A,0x19)
		WriteShort(Sve+2,0x19)
	end
elseif World == 0x0C then --Disney Castle
	if Room == 0x00 and Events(0x33,0x33,0x33) then --Minnie Escort II
		Spawn('Short',0x11,0x06E,0x04)
		Spawn('Short',0x11,0x070,0x1A)
		Spawn('Short',0x11,0x072,0x1C)
		WriteShort(Sve+2,0x1C)
	elseif Room == 0x02 and Events(0x02,0x02,0x01) then --Minnie Escort I
		Spawn('Short',0x13,0x032,0x04)
		Spawn('Short',0x13,0x034,0x1A)
		Spawn('Short',0x13,0x036,0x1E)
		WriteShort(Sys3+0x0F0CC,0x83) --Dance to the Death
		WriteShort(Sys3+0x0F0CE,0x83)
	elseif Room == 0x07 and Events(0x43,0x43,0x43) then --Terra
		Spawn('Short',0x05,0x074,0x01)
		Spawn('Short',0x05,0x076,0x04)
		Spawn('Short',0x05,0x078,0x1A)
		Spawn('Short',0x05,0x07A,0x1D)
		Spawn('Short',0x05,0x07C,0x00)
		WriteShort(Sve+2,0x1D)
	elseif Place ~= PrevPlace and PrevPlace == 0x0306 then --Minnie Escort I
		Warp(0x04,0x1A,0x1E,0x02,0x0B,0x02)
	end
elseif World == 0x0D then --Timeless River
	if Room == 0x01 and Events(0x3A,0x3A,0x3A) then --Past Pete
		Spawn('Short',0x0E,0x0B2,0x04)
		Spawn('Short',0x0E,0x0B4,0x1A)
		Spawn('Short',0x0E,0x0B6,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x02 and Events(0x34,0x34,0x34) then --Boat Pete
		Spawn('Short',0x0E,0x11A,0x04)
		Spawn('Short',0x0E,0x11C,0x1A)
		Spawn('Short',0x0E,0x11E,0x19)
		WriteShort(Sve+2,0x19)
	elseif Room == 0x03 and Events(0x35,0x35,0x35) then --Pete II
		Spawn('Short',0x0C,0x0BA,0x04)
		Spawn('Short',0x0C,0x0BC,0x1A)
		Spawn('Short',0x0C,0x0BE,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x04 and Events(0x36,0x36,0x36) then --Lilliput Heartless
		Spawn('Short',0x10,0x10A,0x04)
		Spawn('Short',0x10,0x10C,0x1A)
		Spawn('Short',0x10,0x10E,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x05 and Events(0x37,0x37,0x37) then --Building Site Heartless
		Spawn('Short',0x0B,0x032,0x04)
		Spawn('Short',0x0B,0x034,0x1A)
		Spawn('Short',0x0B,0x036,0x18)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x06 and Events(0x38,0x38,0x38) then --Scene of the Fire Heartless
		Spawn('Short',0x0E,0x10A,0x04)
		Spawn('Short',0x0E,0x10C,0x1A)
		Spawn('Short',0x0E,0x10E,0x15)
		WriteShort(Sve+2,0x15)
	elseif Room == 0x07 and Events(0x39,0x39,0x39) then --Mickey's House Heartless
		Spawn('Short',0x0C,0x0AA,0x04)
		Spawn('Short',0x0C,0x0AC,0x1A)
		Spawn('Short',0x0C,0x0AE,0x17)
		WriteShort(Sve+2,0x17)
	end
elseif World == 0x0E then --Halloween Town
	if Room == 0x00 then
		if Events(0x33,0x33,0x33) then --Halloween Town Square Heartless
			Spawn('Short',0x10,0x0BE,0x04) --Clear
			Spawn('Short',0x10,0x0C0,0x1A)
			Spawn('Short',0x10,0x0C2,0x1C)
			Spawn('Short',0x10,0x0EA,0x04) --Fail
			Spawn('Short',0x10,0x0EC,0x1A)
			Spawn('Short',0x10,0x0EE,0x1C)
			WriteShort(Sve+2,0x1C)
		elseif Events(0x3C,0x3C,0x3C) then --Halloween Town Square Presents
			Spawn('Short',0x10,0x1EE,0x04)
			Spawn('Short',0x10,0x1F0,0x1A)
			Spawn('Short',0x10,0x1F2,0x17)
			WriteShort(Sve+2,0x17)
		end
	elseif Room == 0x03 and Events(0x34,0x34,0x34) then --Prison Keeper
		Spawn('Short',0x0A,0x130,0x01)
		Spawn('Short',0x0A,0x132,0x04)
		Spawn('Short',0x0A,0x134,0x1A)
		Spawn('Short',0x0A,0x136,0x18)
		Spawn('Short',0x0A,0x138,0x00)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x06 and Events(0x35,0x35,0x35) then --Candy Cane Lane Heartless
		Spawn('Short',0x16,0x222,0x04)
		Spawn('Short',0x16,0x224,0x1A)
		Spawn('Short',0x16,0x226,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x07 and Events(0x40,0x40,0x40) then --The Experiment
		Spawn('Short',0x08,0x0D2,0x04)
		Spawn('Short',0x08,0x0D4,0x1A)
		Spawn('Short',0x08,0x0D6,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x09 and Events(0x37,0x37,0x37) then --Oogie Boogie
		Spawn('Short',0x13,0x142,0x04)
		Spawn('Short',0x13,0x144,0x1A)
		Spawn('Short',0x13,0x146,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x0A then
		if Events(0x3E,0x3E,0x3E) then --Lock, Shock, Barrel
			Spawn('Short',0x0A,0x10A,0x04)
			Spawn('Short',0x0A,0x10C,0x1A)
			Spawn('Short',0x0A,0x10E,0x15)
			WriteShort(Sve+2,0x15)
		elseif Events(0x3F,0x3F,0x3F) then --Gift Wrapping
			Spawn('Short',0x0A,0x1B2,0x04)
			Spawn('Short',0x0A,0x1B4,0x1A)
			Spawn('Short',0x0A,0x1B6,0x19)
			WriteShort(Sve+2,0x19)
		end
	end
elseif World == 0x10 then --Port Royal
	if Room == 0x01 then
		if Events(0x34,0x34,0x34) then --Harbor Pirates I
			Spawn('Short',0x17,0x236,0x04)
			Spawn('Short',0x17,0x238,0x1A)
			Spawn('Short',0x17,0x23A,0x1E)
			WriteShort(Sve+2,0x1E)
		elseif Events(0x35,0x35,0x35) then --Harbor Pirates II
			Spawn('Short',0x17,0x1FE,0x04)
			Spawn('Short',0x17,0x200,0x1A)
			Spawn('Short',0x17,0x202,0x17)
			WriteShort(Sve+2,0x17)
		elseif Events(0x36,0x36,0x36) then --Grim Reaper II
			Spawn('Short',0x17,0x2FA,0x04)
			Spawn('Short',0x17,0x2FC,0x1A)
			Spawn('Short',0x17,0x2FE,0x1D)
			WriteShort(Sve+2,0x1D)
		end
	elseif Room == 0x02 and Events(0x37,0x37,0x37) then --Town Heartless
		Spawn('Short',0x18,0x0C6,0x04)
		Spawn('Short',0x18,0x0C8,0x1A)
		Spawn('Short',0x18,0x0CA,0x1C)
		WriteShort(Sve+2,0x1C)
	elseif Room == 0x03 and Events(0x38,0x38,0x38) then --The Interceptor Barrels
		Spawn('Short',0x0C,0x276,0x04)
		Spawn('Short',0x0C,0x278,0x1A)
		Spawn('Short',0x0C,0x27A,0x16)
		WriteShort(Sve+2,0x16)
	elseif Room == 0x07 and Events(0x3A,0x3A,0x3A) then --The Interceptor Pirates
		Spawn('Short',0x09,0x020,0x01)
		Spawn('Short',0x09,0x022,0x04)
		Spawn('Short',0x09,0x024,0x1A)
		Spawn('Short',0x09,0x026,0x18)
		Spawn('Short',0x09,0x028,0x00)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x09 and Events(0x3B,0x3B,0x3B) then --Cave Mouth Pirates
		Spawn('Short',0x14,0x08A,0x04)
		Spawn('Short',0x14,0x08C,0x1A)
		Spawn('Short',0x14,0x08E,0x1A)
		WriteShort(Sve+2,0x1A)
	elseif Room == 0x0A and Events(0x3C,0x3C,0x3C) then --Barbossa
		Spawn('Short',0x11,0x09A,0x04)
		Spawn('Short',0x11,0x09C,0x1A)
		Spawn('Short',0x11,0x09E,0x15)
		WriteShort(Sve+2,0x15)
	elseif Room == 0x0E and Events(0x3E,0x3E,0x3E) then --Seadrift Keep Gambler
		Spawn('Short',0x14,0x0E2,0x04)
		Spawn('Short',0x14,0x0E4,0x1A)
		Spawn('Short',0x14,0x0E6,0x1B)
		WriteShort(Sve+2,0x1B)
	elseif Room == 0x12 and Events(0x55,0x55,0x55) then --Grim Reaper I
		Spawn('Short',0x0C,0x068,0x01)
		Spawn('Short',0x0C,0x06A,0x04)
		Spawn('Short',0x0C,0x06C,0x1A)
		Spawn('Short',0x0C,0x06E,0x19)
		Spawn('Short',0x0C,0x070,0x00)
		WriteShort(Sve+2,0x19)
	end
elseif World == 0x11 then --Space Paranoids
	if Room == 0x01 and Events(0x33,0x33,0x33) then --Canyon Cubes
		Spawn('Short',0x15,0x0D6,0x04)
		Spawn('Short',0x15,0x0D8,0x1A)
		Spawn('Short',0x15,0x0DA,0x1E)
		WriteShort(Sve+2,0x1E)
	elseif Room == 0x02 then
		if Events(0x3D,0x3D,0x3D) then --Light Cycle I
			Spawn('Short',0x10,0x1C0,0x01)
			Spawn('Short',0x10,0x1C2,0x04)
			Spawn('Short',0x10,0x1C4,0x1A)
			Spawn('Short',0x10,0x1C6,0x1C)
			Spawn('Short',0x10,0x1C8,0x00)
			WriteShort(Sve+2,0x1C)
		elseif Events(0x3E,0x3E,0x3E) then --Light Cycle II
			Spawn('Short',0x10,0x1FA,0x04)
			Spawn('Short',0x10,0x1FC,0x1A)
			Spawn('Short',0x10,0x1FE,0x1A)
			WriteShort(Sve+2,0x1A)
		elseif Events(0x35,0x35,0x35) then --Game Grid Heartless
			Spawn('Short',0x10,0x0D2,0x04)
			Spawn('Short',0x10,0x0D4,0x1A)
			Spawn('Short',0x10,0x0D6,0x15)
			WriteShort(Sve+2,0x15)
		end
	elseif Room == 0x03 and Events(0x36,0x36,0x36) then --Dataspace Monitors
		Spawn('Short',0x0F,0x134,0x01)
		Spawn('Short',0x0F,0x136,0x04)
		Spawn('Short',0x0F,0x138,0x1A)
		Spawn('Short',0x0F,0x13A,0x18)
		Spawn('Short',0x0F,0x13E,0x00)
		WriteShort(Sve+2,0x18)
	elseif Room == 0x04 then
		if Events(0x37,0x37,0x37) then --Hostile Program
			Spawn('Short',0x0F,0x032,0x04)
			Spawn('Short',0x0F,0x034,0x1A)
			Spawn('Short',0x0F,0x036,0x16)
			WriteShort(Sve+2,0x16)
		elseif Events(0x38,0x38,0x38) then --Hallway Heartless
			Spawn('Short',0x0F,0x180,0x01)
			Spawn('Short',0x0F,0x182,0x04)
			Spawn('Short',0x0F,0x184,0x1A)
			Spawn('Short',0x0F,0x186,0x17)
			Spawn('Short',0x0F,0x188,0x00)
			WriteShort(Sve+2,0x17)
		end
	elseif Room == 0x07 and Events(0x39,0x39,0x39) then --Solar Sailer Heartless
		Spawn('Short',0x06,0x0A2,0x04)
		Spawn('Short',0x06,0x0A4,0x1A)
		Spawn('Short',0x06,0x0A6,0x19)
		WriteShort(Sve+2,0x19)
	elseif Room == 0x09 then
		if Events(0x3A,0x3A,0x3A) then --Sark
			Spawn('Short',0x0B,0x104,0x01)
			Spawn('Short',0x0B,0x106,0x04)
			Spawn('Short',0x0B,0x108,0x1A)
			Spawn('Short',0x0B,0x10A,0x1B)
			Spawn('Short',0x0B,0x10C,0x00)
			WriteShort(Sve+2,0x1B)
		elseif Events(0x3B,0x3B,0x3B) then --MCP
			Spawn('Short',0x0B,0x14C,0x01)
			Spawn('Short',0x0B,0x14E,0x04)
			Spawn('Short',0x0B,0x150,0x1A)
			Spawn('Short',0x0B,0x152,0x1D)
			Spawn('Short',0x0B,0x154,0x00)
			WriteShort(Sve+2,0x1D)
		end
	end
elseif World == 0x12 then --The World that Never Was
	if Room == 0x0A then
		if Events(0x39,0x39,0x39) then --Xigbar
			Spawn('Short',0x0C,0x1E2,0x04)
			Spawn('Short',0x0C,0x1E4,0x1A)
			Spawn('Short',0x0C,0x1E6,0x1C)
			WriteShort(Sve+2,0x1C)
		elseif Events(0x64,0x64,0x64) then --Data Xigbar
			Spawn('Short',0x0C,0x214,0x01)
			Spawn('Short',0x0C,0x216,0x04)
			Spawn('Short',0x0C,0x218,0x1A)
			Spawn('Short',0x0C,0x21A,0x01)
			Spawn('Short',0x0C,0x21C,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x0E then
		if Events(0x3A,0x3A,0x3A) then --Luxord
			Spawn('Short',0x0A,0x126,0x04)
			Spawn('Short',0x0A,0x128,0x1A)
			Spawn('Short',0x0A,0x12A,0x1A)
			WriteShort(Sve+2,0x1A)
		elseif Events(0x65,0x65,0x65) then --Data Luxord
			Spawn('Short',0x0A,0x01C,0x01)
			Spawn('Short',0x0A,0x01E,0x04)
			Spawn('Short',0x0A,0x020,0x1A)
			Spawn('Short',0x0A,0x022,0x01)
			Spawn('Short',0x0A,0x024,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x0F then
		if Events(0x38,0x38,0x38) then --Saix
			Spawn('Short',0x0B,0x1DC,0x01)
			Spawn('Short',0x0B,0x1DE,0x04)
			Spawn('Short',0x0B,0x1E0,0x1A)
			Spawn('Short',0x0B,0x1E2,0x18)
			Spawn('Short',0x0B,0x1E4,0x00)
			WriteShort(Sve+2,0x18)
		elseif Events(0x66,0x66,0x66) then --Data Saix
			Spawn('Short',0x0B,0x2C4,0x01)
			Spawn('Short',0x0B,0x2C6,0x04)
			Spawn('Short',0x0B,0x2C8,0x1A)
			Spawn('Short',0x0B,0x2CA,0x01)
			Spawn('Short',0x0B,0x2CC,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x13 then
		if Events(0x3B,0x3B,0x3B) then --Xemnas I
			Spawn('Short',0x07,0x1C6,0x04)
			Spawn('Short',0x07,0x1C8,0x1A)
			Spawn('Short',0x07,0x1CA,0x16)
			WriteShort(Sve+2,0x16)
		elseif Events(0x61,0x61,0x61) then --Data Xemnas I
			Spawn('Short',0x07,0x12C,0x01)
			Spawn('Short',0x07,0x12E,0x04)
			Spawn('Short',0x07,0x130,0x1A)
			Spawn('Short',0x07,0x132,0x1D)
			Spawn('Short',0x07,0x134,0x00)
			WriteShort(Sve+2,0x1D)
		end
	elseif Room == 0x14 then
		if Events(0x4A,0x4A,0x4A) then --Xemnas II
			Spawn('Short',0x07,0x0AC,0x01)
			Spawn('Short',0x07,0x0AE,0x04)
			Spawn('Short',0x07,0x0B0,0x1A)
			Spawn('Short',0x07,0x0B2,0x1B)
			Spawn('Short',0x07,0x0B4,0x00)
			WriteShort(Sve+2,0x1B)
			BitNot(MSN+5,0x10) --Disable Retry
			WriteByte(Pause,0) --Enable Pause
		elseif Events(0x62,0x62,0x62) then --Data Xemnas II
			Spawn('Short',0x07,0x108,0x01)
			Spawn('Short',0x07,0x10A,0x04)
			Spawn('Short',0x07,0x10C,0x1A)
			Spawn('Short',0x07,0x10E,0x1F)
			Spawn('Short',0x07,0x110,0x00)
			WriteShort(Sve+2,0x1F)
		end
	elseif Room == 0x15 then
		if Events(0x41,0x41,0x41) then --Roxas
			Spawn('Short',0x06,0x1BE,0x04)
			Spawn('Short',0x06,0x1C0,0x1A)
			Spawn('Short',0x06,0x1C2,0x1E)
			WriteShort(Sve+2,0x1E)
		elseif Events(0x63,0x63,0x63) then --Data Roxas
			Spawn('Short',0x06,0x194,0x01)
			Spawn('Short',0x06,0x196,0x04)
			Spawn('Short',0x06,0x198,0x1A)
			Spawn('Short',0x06,0x19A,0x01)
			Spawn('Short',0x06,0x19C,0x00)
			WriteShort(Sve+2,0x01)
		end
	elseif Room == 0x16 and Events(0x48,0x48,0x48) then --Dragon Xemnas
		Spawn('Short',0x06,0x024,0x01)
		Spawn('Short',0x06,0x026,0x04)
		Spawn('Short',0x06,0x028,0x1A)
		Spawn('Short',0x06,0x02A,0x01)
		Spawn('Short',0x06,0x02C,0x00)
		WriteShort(Sve+2,0x01)
		BitNot(MSN+5,0x10) --Disable Retry
	elseif Room == 0x17 and Events(0x49,0x49,0x49) then --Armor Xemnas II
		Spawn('Short',0x08,0x0AC,0x01)
		Spawn('Short',0x08,0x0AE,0x04)
		Spawn('Short',0x08,0x0B0,0x1A)
		Spawn('Short',0x08,0x0B2,0x19)
		Spawn('Short',0x08,0x0B4,0x00)
		WriteShort(Sve+2,0x19)
		BitNot(MSN+5,0x10) --Disable Retry
	elseif Room == 0x18 and Events(0x47,0x47,0x47) then --Armor Xemnas I
		Spawn('Short',0x06,0x01C,0x01)
		Spawn('Short',0x06,0x01E,0x04)
		Spawn('Short',0x06,0x020,0x1A)
		Spawn('Short',0x06,0x022,0x17)
		Spawn('Short',0x06,0x024,0x00)
		WriteShort(Sve+2,0x17)
		BitNot(MSN+5,0x10) --Disable Retry
	elseif Room == 0x19 and Events(0x46,0x46,0x46) then --Core
		Spawn('Short',0x07,0x01C,0x01)
		Spawn('Short',0x07,0x01E,0x04)
		Spawn('Short',0x07,0x020,0x1A)
		Spawn('Short',0x07,0x022,0x15)
		Spawn('Short',0x07,0x024,0x00)
		WriteShort(Sve+2,0x15)
		BitNot(MSN+5,0x10) --Disable Retry
	end
end
end

--[[Unused Bytes Repurposed:
Save+0x1CF1 Abilities Bitmask (Roxas, Ping, Tron)
Save+0x1CF2 STT Fire
Save+0x1CF3 STT Blizzard
Save+0x1CF4 STT Thunder
Save+0x1CF5 STT Cure
Save+0x1CF6 STT Magnet
Save+0x1CF7 STT Reflect
Save+0x1CF8 GoA RNG
[Save+0x1CF9,Save+0x1CFA] STT Keyblade
Save+0x3599 Button Toggle Flag
--]]
